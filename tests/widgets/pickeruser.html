<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" class="fl-layout-">
    <head>

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>__MSG__WIDGET_PLAYGROUND__ - Listpeople</title>

        <!-- Sakai Core CSS -->
        <link rel="stylesheet" type="text/css" href="/dev/css/FSS/fss-base.css" />
        <link rel="stylesheet" type="text/css" href="/dev/css/sakai/sakai.base.css" />

        <!-- Sakai Page CSS -->
        <!-- <link rel="stylesheet" type="text/css" href="/dev/css/sakai/sakai.profile.css" /> -->

        <script type="text/javascript" src="/dev/lib/require.js"></script>

        <!-- Sakai Config JS -->
        <script type="text/javascript" src="/dev/configuration/widgets.js"></script>
        <script type="text/javascript" src="/var/widgets.json?callback=sakai.storeWidgets"></script>
        <script type="text/javascript" src="/dev/configuration/config.js"></script>

        <!-- Core 3rd-party JS -->
        <script type="text/javascript" src="/dev/lib/jquery/jquery.js"></script>
        <script type="text/javascript" src="/dev/lib/jquery/jquery-ui.full.js"></script>
        <script type="text/javascript" src="/dev/lib/fluid/3akai_Infusion.js"></script>
        <script type="text/javascript" src="/dev/lib/jquery/plugins/jquery.json.js"></script>
        <script type="text/javascript" src="/dev/lib/misc/google/html-sanitizer-minified.js"></script>

        <!-- Sakai Core JS -->
        <script type="text/javascript" src="/dev/lib/sakai/sakai.api.core.js"></script>
        <script type="text/javascript" src="/dev/lib/sakai/sakai.api.util.js"></script>
        <script type="text/javascript" src="/dev/lib/sakai/sakai.api.i18n.js"></script>
        <script type="text/javascript" src="/dev/lib/sakai/sakai.api.l10n.js"></script>
        <script type="text/javascript" src="/dev/lib/sakai/sakai.api.user.js"></script>
        <script type="text/javascript" src="/dev/lib/sakai/sakai.api.widgets.js"></script>
        <script type="text/javascript" src="/dev/lib/sakai/sakai.api.groups.js"></script>
        <script type="text/javascript" src="/dev/lib/sakai/sakai.api.communication.js"></script>
        <script type="text/javascript" src="/dev/lib/sakai/sakai.api.content.js"></script>
        <script type="text/javascript" src="/dev/lib/sakai_util/i18n.js"></script>

        <!-- 3rd party JS -->
        <script type="text/javascript" src="/dev/lib/misc/trimpath.template.js"></script>
        <script type="text/javascript" src="/dev/lib/misc/querystring.js"></script>
        <script type="text/javascript" src="/dev/lib/jquery/plugins/jqmodal.sakai-edited.js"></script>
        <script type="text/javascript" src="/dev/lib/jquery/plugins/jquery.cookie.js"></script>
        <script type="text/javascript" src="/dev/lib/jquery/plugins/jquery.pager.js"></script>
        <script type="text/javascript" src="/dev/lib/jquery/plugins/jquery.threedots.js"></script>
        <script type="text/javascript" src="/dev/lib/jquery/plugins/jquery.form.js"></script>
        <script type="text/javascript" src="/dev/lib/jquery/plugins/jquery.MultiFile.js"></script>
        <script type="text/javascript" src="/dev/lib/jquery/plugins/gritter/jquery.gritter.js"></script>
        <script type="text/javascript" src="/dev/lib/jquery/plugins/jquery.autoSuggest.sakai-edited.js"></script>

    </head>

    <body class="fl-centered profile_preview i18nable">

        <!-- HEADER -->
        <div class="fl-container-flex header">
            <div class="fl-fix fl-centered fixed-container">
                <div class="decor"></div>

                <!-- TITLE BAR  -->
                <div class="s3d-site-heading fl-force-left">
                    <h1 id="sitetitle">__MSG__WIDGET_PLAYGROUND__ - Pick User</h1>
                </div>
            </div>
        </div>

        <!-- CONTENT -->
        <div class="fl-centered fixed-container" style="background: #fff; min-height: 400px;">

            <div id="widget_pickeruser" class="widget_inline"></div>
            <div><a href="javascript:;" id="pick_user_link">Pick User</a></div>

        </div>

        <!-- FOOTER WIDGET -->
        <div id="widget_footer" class="widget_inline footercontainer"></div>

        <script>

            // Page code
            $(window).bind("ready.pickeruser.sakai", function(e){
                var pl_config = {
					"mode": "search",
					"type": "people",
					"selectable":true,
					"subNameInfo": "email",
					"sortOn": "lastName",
					"items": 50,
					"what": "Managers",
					"where": "Biology 101"
				};

                $("#pick_user_link").bind("click", function() {
                    $(window).trigger("init.pickeruser.sakai", pl_config, function(people) {
                        console.log("people:", people);
                    });
					$(window).unbind("finished.pickeruser.sakai");
					$(window).bind("finished.pickeruser.sakai", function(e, peopleList) {
						console.log("To add: ", peopleList.toAdd);
					});
                });

            });
        </script>

    </body>

</html>
