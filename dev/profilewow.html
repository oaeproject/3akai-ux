<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Sakai 3 R&amp;D - Profile</title>

    <!-- Sakai Core CSS -->
    <link rel="stylesheet" type="text/css" href="_css/FSS/fss-base.css" />
    <link rel="stylesheet" type="text/css" href="_css/sakai/sakai.base.css" />
    <link rel="stylesheet" type="text/css" href="_css/sakai/sakai.core.2.css" />
    <link rel="stylesheet" type="text/css" href="_css/sakai/sakai.3.css" />
    <link rel="stylesheet" type="text/css" href="_css/sakai/sakai.profilewow.css" />

    <!-- 3rd party CSS -->
    <link rel="stylesheet" type="text/css" href="_css/sakai/sakai.components.jq_pager.css" />
    <link rel="stylesheet" type="text/css" href="_lib/Jquery/imgareaselect/imgareaselect-default.css" />

    <!-- Sakai Config JS -->
    <script type="text/javascript" language="JavaScript" src="_configuration/widgets.js"></script>
    <script type="text/javascript" language="JavaScript" src="_configuration/config.js"></script>

    <!-- Core 3rd-party JS -->
    <script type="text/javascript" language="JavaScript" src="_lib/Fluid/InfusionAll.js"></script>

    <!-- Sakai Core JS -->
    <script type="text/javascript" language="JavaScript" src="_lib/sakai_util/sakai_magic.js"></script>
    <script type="text/javascript" language="JavaScript" src="_lib/sakai_util/sdata.js"></script>
    <script type="text/javascript" language="JavaScript" src="_lib/sakai_util/i18n.js"></script>

    <!-- 3rd party JS -->
    <script type="text/javascript" language="JavaScript" src="_lib/sakai_util/sakai_3rdparty.js"></script>
    <script type="text/javascript" language="JavaScript" src="_lib/Jquery/imgareaselect/jquery.imgareaselect.pack.js"></script>

</head>
<body class="fl-centered profilewow i18nable">

    <!-- EXPLORE BAR -->
    <div id="widget_navigationchat" class="widget_inline"></div>

    <!-- HEADER -->
    <div class="fl-container-flex header">
        <div class="fl-fix fl-centered fixed-container">
            <div class="decor"><!-- --></div>

            <!-- TITLE BAR  -->
            <div id="profilewow_heading" class="s3d-site-heading fl-force-left"><!-- --></div>
        </div>
    </div>

    <!-- HEADER TEMPLATE -->
    <div id="profilewow_heading_template"><!--
        {if mode.value==="view"}
            <h1>__MSG__VIEW_PROFILE__</h1>
        {elseif mode.value==="viewmy"}
            <h1>__MSG__VIEW_MY_PROFILE__</h1>
        {elseif mode.value==="viewas"}
            <h1>__MSG__VIEW_MY_PROFILE_AS__</h1>
            <select>
                <option{if acls.value==="public"} selected="selected"{/if}>__MSG__PUBLIC__</option>
                <option{if acls.value==="institution"} selected="selected"{/if}>__MSG__INSTITUTION__</option>
                <option{if acls.value==="contacts"} selected="selected"{/if}>__MSG__CONTACTS__</option>
                <option{if acls.value==="noone"} selected="selected"{/if}>__MSG__NO_ONE__</option>
            </select>
        {elseif mode.value==="edit"}
            <h1>__MSG__EDIT_MY_PROFILE__</h1>
        {/if}
    --></div>

    <div class="fl-container-flex">

        <div class="fl-fix fl-centered fixed-container">

            <!-- USERINFO -->
            <div id="profilewow_userinfo"><!-- --></div>

            <!-- USERINFO TEMPLATE -->
            <div id="profilewow_userinfo_template"><!--
                <div id="profilewow_userinfo_picture_container" class="fl-force-left">
                    {if picture}
                        <img id="profilewow_userinfo_picture" src="${picture}" alt="__MSG__PROFILE_PICTURE_FOR__ ${data.basic.elements.displayname.value}" />
                    {else}
                        <img id="profilewow_userinfo_picture" src="/dev/_images/default_profile_picture_128.png" alt="__MSG__PLACEHOLDER_PICTURE_FOR__ ${data.basic.elements.displayname.value}" />
                    {/if}
                    <br />
                    {if mode.value==="viewmy" || mode.value==="edit"}
                        <a href="javascript:;" class="profilewow_link" id="changepic_container_trigger">__MSG__CHANGE_PHOTO__</a>
                    {/if}
                </div>
                <div id="profilewow_userinfo_right_container" class="fl-force-left">
                    <h2 id="profilewow_userinfo_name">${data.basic.elements.displayname.value}</h2>
                    {if mode.value==="edit" || mode.value==="viewmy"}
                        <form id="profilewow_userinfo_status" method="POST" action="javascript:;">
                            <div>
                                <input id="profilewow_userinfo_status_input" type="text" {if !status}class="profilewow_userinfo_status_input_dummy" value="__MSG__WHAT_ARE_YOU_DOING_NOW__"{else}value="${status}"{/if} />
                                <img src="/dev/_images/ajax-loader-gray.gif" alt="Saving..." style="display:none" />
                                <span id="profilewow_userinfo_status_input_dummy" style="display:none;">__MSG__WHAT_ARE_YOU_DOING_NOW__</span>
                                <button type="submit" class="s3d-button s3d-button-primary"><span class="s3d-button-inner">__MSG__UPDATE__</span></button>
                            </div>
                        </form>

                        <form method="POST" action="javascript:;">
                            <div>
                                <label for="profilewow_userinfo_chatstatus">__MSG__CHAT_STATUS__: </label>
                                <select id="profilewow_userinfo_chatstatus">
                                    <option>__MSG__AVAILABLE__</option>
                                    <option>__MSG__BUSY__</option>
                                    <option>__MSG__OFFLINE__</option>
                                </select>
                            </div>
                        </form>
                    {else}
                        <div>{if status}${status}{else}__MSG__NO_STATUS__{/if}</div>
                        <div>__MSG__CHAT_STATUS__: {if chatstatus} ${chatstatus} {else} __MSG__AVAILABLE__ {/if}</div>
                    {/if}
                </div>
            --></div>

            <!-- GENERAL INFO -->
            <div id="profilewow_generalinfo" class="fl-push"><!-- --></div>

            <!-- GENERAL INFO TEMPLATE -->
            <div id="profilewow_generalinfo_template"><!--
                {for i in config}
                    <h3>${i.label}</h3>

                    {for element in i.elements}

                        {var _elements = sakai.profilewow.profile.data[i_index].elements}
                        {var _element = _elements[element_index]}
                        {var isarray = $.isArray(_elements)}

                        ${element.label}: {if !isarray} ${_element.value} {/if}<br />
                    {/for}

                {/for}
            --></div>

        </div>

    </div>

    <!-- FOOTER WIDGET -->
    <div id="widget_footer" class="widget_inline footercontainer"></div>

    <!-- CHANGEPIC WIDGET -->
    <div id="widget_changepic" class="widget_inline"></div>

    <!-- PROFILEWOW JS -->
    <script type="text/javascript" src="_javascript/profilewow.js"></script>
</body>
</html>