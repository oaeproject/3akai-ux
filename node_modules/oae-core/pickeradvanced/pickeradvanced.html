<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/node_modules/oae-core/pickeradvanced/css/pickeradvanced.css" />

<!-- MAIN VIEW -->
<div id="pickeradvanced_container" class="oae-dialog oae-dialog-container">
    <div class="oae-dialog-close jqmClose"></div>
    <h1 id="pickeradvanced_search_people" class="pickeradvanced_search_titles oae-dialog-header" style="display:none">__MSG__SEARCH_FOR_PEOPLE_TO_ADD__</h1>
    <h1 id="pickeradvanced_search_files"  class="pickeradvanced_search_titles oae-dialog-header" style="display:none">__MSG__SEARCH_FOR_CONTENT_TO_ADD__</h1>
    <div id="pickeradvanced_container_search">
        <div id="pickeradvanced_header">
            <span class="oae-force-left">
                <form id="pickeradvanced_content_search_form" method="post" action="#">
                    <div class="oae-search-container"  role="search" aria-label="__MSG__SEARCH_FOR_CONTENT_TO_ADD__">
                        <label for="pickeradvanced_search_query" id="pickeradvanced_search_query_label">__MSG__SEARCH_FOR_CONTENT_TO_ADD__</label> <input type="text" tabindex_none="40" name="pickeradvanced_search_query" id="pickeradvanced_search_query" title="__MSG__SEARCH_FOR_CONTENT_TO_ADD__" class="oae-search-inputfield"/>
                        <button type="button" class="oae-button oae-overlay-button oae-search-button" id="pickeradvanced_search_button">
                            <img src="/dev/images/search_icon.png" alt="__MSG__SEARCH_FOR_CONTENT_TO_ADD__"/>
                        </button>
                    </div>
                </form>
            </span>
        </div>

        <div id="pickeradvanced_content" class="oae-highlight_area_background">
            <div id="pickeradvanced_results_header" class="oae-force-left"><span><button type="button" id="pickeradvanced_select_all_button" class="oae-button oae-link-button oae-bold">__MSG__SELECT_ALL__</button></span></div>
            <div id="pickeradvanced_content_list" class="oae-force-left">
                <ul id="pickeradvanced_file_filters" style="display:none" class="pickeradvanced_search_content">
                    <li><button type="button" data-search="all" id="pickeradvanced_search_files_all" class="pickeradvanced_search_filter oae-action oae-link-button oae-bold">__MSG__ALL_CONTENT_I_CAN_SEE__</button></li>
                    <li><button type="button" data-search="my" id="pickeradvanced_search_files_mylibrary" class="pickeradvanced_search_filter oae-action oae-link-button oae-bold">__MSG__MY_LIBRARY__</button></li>
                </ul>
            </div>
            <div id="pickeradvanced_content_search" class="oae-force-left"></div>
            <div class="pickeradvanced_selection_buttons oae-force-right">
                <button type="button" class="oae-button oae-link-button jqmClose">__MSG__CANCEL__</button>
                <button type="button" id="pickeradvanced_add_button" class="oae-button oae-overlay-action-button" disabled="disabled">__MSG__ADD_SELECTED__</button>
            </div>
        </div>

        <div id="pickeradvanced_content_search_pagedefault">

            <div id="pickeradvanced_content_search_listtemplate"><!--
                <ul id="pickeradvanced_list" class="pickeradvanced_page">
                {for p in people}
                    <li id="${p.id}">
                        <span class="pickeradvanced_list_name">${p.name|safeOutput}</span>
                    </li>
                {/for}
                </ul>
            --></div>

            <div id="pickeradvanced_content_search_pagetemplate" style="display:none;"><!--
                {for i in results}
                    {if i["sakai:pooled-content-file-name"]}
                    <li id="${i["_path"]}">
                        <input type="checkbox" name="selected" value="${i["_path"]}" />
                        {var mimetype = sakai.api.Content.getMimeType(i)}
                        {var mimeTypeDescription = sakai.api.i18n.getValueForKey(sakai.api.Content.getMimeTypeData(mimetype).description)}
                        {var thumbnail = sakai.api.Content.getThumbnail(i)}
                        {if thumbnail}
                            <img src="${thumbnail}" alt="${mimeTypeDescription}" class="pickeradvanced_ppicture"/>
                        {else}
                            <img src="${sakai.api.Content.getMimeTypeData(mimetype).URL}" alt="${mimeTypeDescription}" class="pickeradvanced_ppicture"/>
                        {/if}
                        <a class="pickeradvanced_name" href="/content#p=${i["_path"]|safeURL}/${i["sakai:pooled-content-file-name"]|safeURL}" target="_blank">${i["sakai:pooled-content-file-name"]|safeOutput}</a>
                        <br />
                        {if i["sakai:description"]}
                            {if i["sakai:description"].length > 125}
                                <span class="pickeradvanced_subnameinfo">${i["sakai:description"].substring(0, 125)|safeOutput}...</span>
                            {else}
                                <span class="pickeradvanced_subnameinfo">${i["sakai:description"]|safeOutput}</span>
                            {/if}
                        {/if}
                    </li>
                    {/if}
                {forelse}
                    <span id="pickeradvanced_no_results">__MSG__SORRY_NO_RESULTS__</span>
                {/for}
            --></div>
        </div>

        <div id="pickeradvanced_error_template" style="display:none;">
            <span>__MSG__ERROR_MSG__</span>
        </div>
    </div>
</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/node_modules/oae-core/pickeradvanced/javascript/pickeradvanced.js"></script>
