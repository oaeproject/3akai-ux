<!-- CSS -->
<link rel="stylesheet" type="text/css" href="css/notifications.css" />

<div class="notifications-widget hide">
    <div id="notifications-popover-template"><!--
        <div id="notifications-container">
            <ul class="oae-list oae-list-details"></ul>
        </div>
    --></div>

    <div id="notifications-noresults-template"><!--
        <li class="alert alert-info notifications-empty">
            __MSG__NO_NOTIFICATIONS_AVAILABLE__
        </li>
    --></div>

    <div id="notifications-template"><!--
        {for activity in results}
            {if activity.actor['oae:collection']}
                {var actor = activity.actor['oae:collection'][0]}
            {else}
                {var actor = activity.actor}
            {/if}

            {var previewObj = activity.target || activity.object}
            {if previewObj['oae:id'] === oae.data.me.id}
                {var previewObj = activity.object}
            {/if}

            <li data-id="${activity['oae:activityId']}" data-published="${activity.published}">
                {var hasTargetThumbnail = (!previewObj['oae:collection'] && previewObj['oae:id'] !== oae.data.me.id)}
                <div class="oae-list-details-item">
                    <div class="oae-listitem{if hasTargetThumbnail} notifications-with-target-thumbnail{/if}">
                        <div class="oae-listitem-primary-thumbnail">
                            ${renderThumbnail(actor)}
                        </div>
                        {if hasTargetThumbnail}
                            <div class="notifications-target-thumbnail">
                                ${renderThumbnail(previewObj)}
                            </div>
                        {/if}
                        <div class="oae-listitem-metadata">
                            ${renderActivitySummary(activity)}
                        </div>
                    </div>
                </div>
            </li>
        {/for}
    --></div>
</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="js/notifications.js"></script>
