<!-- CSS -->
<link rel="stylesheet" type="text/css" href="css/participants.css" />

<div class="participants_widget">
    <h1 class="oae-contentpage-title">__MSG__PARTICIPANTS__</h1>

    <div class="oae-left oae-container oae-search-header" id="results_header">
        <h2 class="oae-search-header-type oae-force-left">__MSG__PARTICIPANTS__ (<strong id="participants_numberFound">0</strong><span class="oae-aural-text"> __MSG__PARTICIPANTS_FOUND__</span>)</h2>

        <div class="oae-search oae-force-left">
            <form id="participants_search_form" class="oae-search-bar">
                <input type="text" maxlength="255" id="search_query" title="__MSG__SEARCH_FOR__" class="oae-search-inputfield"/>
                <button type="submit" class="oae-button oae-overlay-button oae-search-button" title="__MSG__SUBMIT_SEARCH__">
                    <span class="oae-search-button-icon"></span>
                    <span class="oae-aural-text">__MSG__SUBMIT_SEARCH__</span>
                </button>
            </form>
        </div>

        <div class="oae-search-selects">
            <div class="oae-search-listview-options oae-button oae-header-button oae-header-smaller-button">
                <div class="search_view_list" title="__MSG__LIST_VIEW__">
                    <div class="oae-action-icon oae-search-results-listview selected"></div>
                </div>
                <div class="search_view_expandedlist" title="__MSG__EXPANDED_LIST_VIEW__">
                    <div class="oae-action-icon oae-search-results-expandedlistview"></div>
                </div>
                <div class="search_view_grid" title="__MSG__GRID_VIEW__">
                    <div class="oae-action-icon oae-search-results-gridview"></div>
                </div>
            </div>
        </div>
    </div>

    <ul class="oae-list"></ul>
</div>

<div id="participants_noresults_template"><!--
    <div class="oae-no-results-container">
        <div class="oae-no-results-arrow-up"></div>
        <div class="oae-no-results-icon oae-no-results-content less-margin"></div>
        <p>__MSG__NO_RESULTS_DESCRIPTION_PARTICIPANTS__</p>
    </div>
--></div>

<div id="participants_list_template" style="display: none;"><!--
    {for p in results}
        {var displayName = p.title || p.profile.displayName}
        {var participantId = p.id || p.profile.id}
        {var thumbnailUrl = p.thumbnailUrl || '/ui/img/entities/user_icon_large.png'}
        {var mediumThumbnailUrl = p.thumbnailUrl || '/ui/img/entities/user_icon_medium.png'}
        {var smallThumbnailUrl = p.thumbnailUrl || '/ui/img/entities/user_icon.png'}
        <li class="oae-list-item" {if !p.id} data-key="${p.profile.id}"{/if}>
            <div class="oae-list-item-right">
                <div class="oae-list-item-right-hidden"></div>
                <div class="oae-list-item-right-hidden grid" style="display: none;"></div>
            </div>
            <div class="oae-list-item-banner" style="display: none;">
                <div>
                    <a class="oae-threedots" href="/user/${participantId}" title="${displayName}">${displayName}</a>
                </div>
            </div>
            <div class="oae-list-item-left">
                <img src="${thumbnailUrl}" alt="${displayName}" class="oae-list-item-profile-picture grid"/>
                <div class="oae-list-item-left-inner">
                    {if !oae.data.me.anon}
                        <input type="checkbox" name="${participantId}_chk" id="${participantId}_chk" data-id="${participantId}" class="oae-force-left"/>
                    {/if}
                    <label for="${participantId}_chk" class="oae-threedots">
                        <img src="${mediumThumbnailUrl}" alt="${displayName}" class="oae-list-item-profile-picture"/>
                        <img src="${smallThumbnailUrl}" alt="${displayName}" class="oae-list-item-small-picture"/>
                        <a class="oae-threedots" href="/user/${participantId}" title="${displayName}">${displayName}</a>
                    </label>
                    <div class="oae-list-description">Cambridge University</div>
                </div>
            </div>
            <div class="oae-push"></div>
        </li>
    {/for}
--></div>

<div class="oae-bottom-spacer"></div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="js/participants.js"></script>
