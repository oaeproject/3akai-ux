<!-- CSS -->
<link rel="stylesheet" type="text/css" href="css/manageaccess.css" />

<!-- MODAL -->
<div id="manageaccess-modal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="manageaccess-modal-title" aria-hidden="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&#215;</button>
        <h3 id="manageaccess-modal-title">__MSG__MANAGE_ACCESS__</h3>
    </div>
    <div class="modal-body">
        <div id="manageaccess-overview">
            <div id="manageaccess-overview-visibility">
                <h4>__MSG__VISIBILITY__</h4>
                <div class="well">
                    <button id="manageaccess-change-visibility" class="btn pull-right">__MSG__CHANGE__</button>
                    <div id="manageaccess-overview-visibility-container"><!-- --></div>
                </div>
            </div>
            <div id="manageaccess-overview-shared">
                <h4>__MSG__GROUP_MEMBERS__ <button id="manageaccess-share-add-more" class="btn btn-link pull-right"><i class="icon-plus-sign"></i> __MSG__ADD_MORE__</button></h4>
                <div class="well">
                    <ul id="manageaccess-selected-container" class="oae-list oae-list-compact"></ul>
                </div>
            </div>
        </div>
        <div id="manageaccess-visibility" class="hide"><!-- --></div>
        <div id="manageaccess-share" class="hide"><!-- --></div>
    </div>
    <div class="modal-footer">
        <div id="manageaccess-overview-footer">
            <button class="btn btn-link pull-left" data-dismiss="modal">__MSG__CANCEL__</button>
            <button id="manageaccess-save" class="btn btn-primary pull-right">__MSG__SAVE__</button>
        </div>
        <div id="manageaccess-visibility-footer" class="hide">
            <button class="manageaccess-cancel btn btn-link pull-left">__MSG__CANCEL__</button>
            <button id="manageaccess-save-visibility" class="btn btn-primary pull-right">__MSG__UPDATE__</button>
        </div>
        <div id="manageaccess-share-footer" class="hide">
            <button class="manageaccess-cancel btn btn-link pull-left">__MSG__CANCEL__</button>
            <button id="manageaccess-share-update" class="btn btn-primary pull-right" disabled="true">__MSG__ADD__</button>
        </div>
    </div>
</div>

<div id="manageaccess-overview-visibility-template"><!--
    <i class="icon-oae-${groupData.visibility} pull-left"></i>
    <span>
        {if groupData.visibility === 'private'}
            __MSG__PARTICIPANTS_ONLY__
        {elseif groupData.visibility === 'loggedin'}
            ${groupData.tenant.displayName}
        {else}
            __MSG__PUBLIC__
        {/if}
    </span>
--></div>

<div id="manageaccess-members-template"><!--
    {for member in results}
        {if !member.deleted}
            <li data-id="${member.profile.id}" data-key="${member.profile.id}">
                <div class="oae-list-compact-item">
                    <div class="oae-listitem oae-listitem-compact">
                        <div class="oae-listitem-actions pull-right">
                            <button type="button" class="close" {if results.length === 1}disabled="true"{/if} data-id="${member.profile.id}">&#215;</button>
                            <select data-id="${member.profile.id}">
                                <option value="viewer" {if member.role === 'viewer'}selected="true"{/if}>__MSG__MEMBER__</option>
                                <option value="manager" {if member.role === 'manager'}selected="true"{/if}>__MSG__MANAGER__</option>
                            </select>
                        </div>
                        ${renderThumbnail(member.profile)}
                        <div>
                            <h3 class="oae-threedots">${oae.api.util.security().encodeForHTML(member.profile.displayName)}</h3>
                        </div>
                    </div>
                </div>
            </li>
        {/if}
    {/for}
--></div>

<div id="manageaccess-visibility-template"><!--
    <h4>__MSG__VISIBILITY__</h4>
    <div class="oae-visibility-choice-container row-fluid">
        <label for="oae-visibility-private" class="span4 text-center">
            <div class="oae-visibility-choice well pull-left text-center {if groupData.visibility === 'private'} checked{/if}">
                <input type="radio" id="oae-visibility-private" value="private" name="oae-visibility-group" class="pull-left" {if groupData.visibility === 'private'} checked="checked"{/if} tabindex="0"/>
                <i class="icon-oae-private large text-center"></i>
                <span>__MSG__PARTICIPANTS_ONLY__</span>
            </div>
            <i class="icon-ok hide"></i>
            <small>__MSG__PRIVATE_DESCRIPTION__</small>
        </label>
        <label for="oae-visibility-loggedin" class="span4 text-center">
            {var tenant = groupData.tenant.displayName}
            <div class="oae-visibility-choice well pull-left text-center {if groupData.visibility === 'loggedin'} checked{/if}">
                <input type="radio" id="oae-visibility-loggedin" value="loggedin" name="oae-visibility-group" class="pull-left" {if groupData.visibility === 'loggedin'} checked="checked"{/if} tabindex="0"/>
                <i class="icon-oae-loggedin large text-center"></i>
                <span>${groupData.tenant.displayName}</span>
            </div>
            <i class="icon-ok hide"></i>
            <small>__MSG__LOGGEDIN_DESCRIPTION__</small>
        </label>
        <label for="oae-visibility-public" class="span4 text-center">
            <div class="oae-visibility-choice well pull-left text-center {if groupData.visibility === 'public'} checked{/if}">
                <input type="radio" id="oae-visibility-public" value="public" name="oae-visibility-group" class="pull-left" {if groupData.visibility === 'public'} checked="checked"{/if} tabindex="0"/>
                <i class="icon-oae-public large text-center"></i>
                <span>__MSG__PUBLIC__</span>
            </div>
            <i class="icon-ok hide"></i>
            <small>__MSG__PUBLIC_DESCRIPTION__</small>
        </label>
    </div>
--></div>

<div id="manageaccess-share-template"><!--
    <h4>__MSG__SELECT_USERS_AND_GROUPS_TO_ADD__</h4>
    <div id="manageaccess-share-autosuggest-container">
        <input type="text" id="manageaccess-share-autosuggest" placeholder="__MSG__ENTER_NAME_HERE__"/>
    </div>
    <select id="manageaccess-share-role" class="pull-right">
        <option value="viewer" selected="true">__MSG__MEMBER__</option>
        <option value="manager">__MSG__MANAGER__</option>
    </select>
    <h4>
        <label for="manageaccess-share-role" class="pull-right">__MSG__ADD_THESE_AS_A__</label>
    </h4>
--></div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="js/manageaccess.js"/>
