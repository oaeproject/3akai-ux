/*!
 * Copyright 2014 Apereo Foundation (AF) Licensed under the
 * Educational Community License, Version 2.0 (the "License"); you may
 * not use this file except in compliance with the License. You may
 * obtain a copy of the License at
 *
 *     http://opensource.org/licenses/ECL-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an "AS IS"
 * BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing
 * permissions and limitations under the License.
 */

/* Overview panel */

/* Align buttons in the title of the well titles with the title text */
#manageaccess-modal #manageaccess-overview > h4 > button {
    float: right;
    margin-top: -3px;
}

#manageaccess-modal #manageaccess-overview-visibility.well {
    padding: 10px;
    margin-bottom: 25px;
}

#manageaccess-modal #manageaccess-change-visibility {
    margin-top: -4px;
}

#manageaccess-modal #manageaccess-overview-shared.well {
    height: 240px;
    margin-bottom: 0;
    padding: 0;
    overflow: auto;
}

#manageaccess-modal #manageaccess-overview-selected {
    padding: 10px;
}

/* List items */

/* The overflowing height of the select list takes away from the perceived padding of the
   right side of the list items. Reduce padding so that it doesn't look uneven */
#manageaccess-modal #manageaccess-overview-selected > li .oae-listitem {
    padding-right: 4px;
}

#manageaccess-modal #manageaccess-overview-selected > li:only-child .oae-listitem {
    padding-right: 7px;
}

#manageaccess-modal #manageaccess-overview-selected > li:last-child .oae-listitem {
    margin-bottom: 0;
}

/* Add an IE9 fallback for threedots */

.ie-lt10 #manageaccess-modal #manageaccess-overview-selected > li .oae-listitem h3 {
    float: none;
}

/* List item actions */

#manageaccess-modal #manageaccess-overview-selected > li .oae-listitem-actions {
    float: right;
    margin-left: 7px;
    margin-top: -4px;
    width: auto;
}

#manageaccess-modal #manageaccess-overview-selected > li .oae-listitem-actions > .form-group {
    /* In IE11, the baseline will follow this margin, whereas in other browsers (chrome, safari, firefox,
       ie9, ie10) it will not. As we pull this bottom margin up, it will help center the "Remove" (X)
       button vertically in ie11. We cannot simply set this to 0 and adjust the margins of the (X) button
       because even with `margin-bottom: 0px` the baseline position is inconsistent between ie11 and the
       others :( */
    margin-bottom: -10px;
}

#manageaccess-modal #manageaccess-overview-selected > li .oae-listitem-actions > .form-group > select {
    height: 31px;
    padding: 4px;
    width: 150px;
}

/* TODO: This is a workaround to avoid doing JavaScript logic that determines if a member should be removable.
   It should be removed in favour of real business logic that takes into consideration the case where you have
   one manager and multiple members */
#manageaccess-modal #manageaccess-overview-selected > li:only-child .oae-listitem-actions .manageaccess-remove {
    display: none;
}

/* When the viewport is squeezed down to 480px or less, we wrap the listitem actions below the display name */
@media (max-width: 479px) {

    #manageaccess-modal #manageaccess-overview-shared.well {
        height: 360px;
    }

    /* Increase the size of the listitem and thumbnail to cover 2 lines since the details / controls will wrap
       to 2 lines */

    #manageaccess-modal #manageaccess-overview-selected > li .oae-listitem {
        height: 77px;
        padding-right: 35px;
    }

    #manageaccess-modal #manageaccess-overview-selected > li .oae-listitem .oae-thumbnail {
        width: 55px;
        height: 55px;
    }

    /* When there is no "remove member" button, we need more padding to space out the select list */

    #manageaccess-modal #manageaccess-overview-selected > li:only-child .oae-listitem {
        padding-right: 10px;
    }

    /* Listitem actions and metadata will be stacked vertically to the right of the thumbnail */

    #manageaccess-modal #manageaccess-overview-selected > li .oae-listitem-metadata,
    #manageaccess-modal #manageaccess-overview-selected > li .oae-listitem-actions {
        float: left;
        margin-left: 0;
        padding-left: 65px;
        width: 100%;
    }

    /* Since the metadata is ordered after actions in the template, we have to pull it up
       on top of the actions as they float improperly */
    #manageaccess-modal #manageaccess-overview-selected > li .oae-listitem-metadata {
        margin-top: -58px;
    }

    /* Nothing floats against the h3 when stacked, so we relax the right margin so we have full
       width */
    #manageaccess-modal #manageaccess-overview-selected .oae-list-compact-item > .oae-listitem > div.oae-listitem-metadata > h3 {
        margin-right: 0;
        width: 100%;
    }

    /* The listitem actions (select input and X icon) will take the full width of its line */

    #manageaccess-modal #manageaccess-overview-selected > li .oae-listitem-actions {
        /* We give the actions full width available, but that will cause it to wrap beneath
           the thumbnail. Since we have a fixed height (77px), we can reliably pull it back
           up to the desired line and align it with the metadata */
        margin-top: -31px;
    }

    #manageaccess-modal #manageaccess-overview-selected > li .oae-listitem-actions > .form-group,
    #manageaccess-modal #manageaccess-overview-selected > li .oae-listitem-actions > .form-group > select {
        width: 100%;
    }

    /* The 100% width of the .form-group > select element causes the remove button to wrap. We
       need to pull it back up and move it over to the empty space created by the list item
       padding  */
    #manageaccess-modal #manageaccess-overview-selected > li .oae-listitem-actions > .btn,
    #manageaccess-modal #manageaccess-overview-selected > li .oae-listitem-actions > i {
        float: right;
        left: 27px;
        margin-top: -24px;
        position: relative;
    }

}

/* Share panel */

#manageaccess-modal #manageaccess-share-add-more i {
    font-size: 13px;
    margin-right: 2px;
}

#manageaccess-modal #manageaccess-share-role {
    height: auto;
    margin: 12px 0 0;
    width: 150px;
}

#manageaccess-modal label[for="manageaccess-share-role"] {
    font-weight: 200;
    margin: 17px 10px 0 0;
}
