<!-- CSS -->
<link rel="stylesheet" type="text/css" href="css/setpermissions.css" />

<div id="setpermissions-container"><!-- --></div>

<!-- WIDGET TEMPLATE -->
<div id="setpermissions-template"><!--
    <h4>__MSG__VISIBILITY__</h4>
    <label>
        <input type="radio" value="private" name="setpermissions-visibility" class="pull-left" {if visibility === 'private'} checked="checked"{/if}/>
        <i class="icon-oae-private pull-left"></i>
        <span>__MSG__PRIVATE__</span>
    </label>
    <label>
        <input type="radio" value="loggedin" name="setpermissions-visibility" class="pull-left" {if visibility === 'loggedin'} checked="checked"{/if}/>
        <i class="icon-oae-loggedin pull-left"></i>
        <span>${oae.data.me.tenant.displayName|encodeForHTML}</span>
    </label>
    <label>
        <input type="radio" value="public" name="setpermissions-visibility" class="pull-left" {if visibility === 'public'} checked="checked"{/if}/>
        <i class="icon-oae-public pull-left"></i>
        <span>__MSG__PUBLIC__</span>
    </label>
    <h4>__MSG__SHARED_WITH_WHO_WILL_SEE_UPDATES__</h4>
    <input type="text" id="setpermissions-share" placeholder="__MSG__ENTER_NAME_HERE__"/>
    <div id="setpermissions-footer">
        <button class="btn btn-link pull-left" id="setpermissions-cancelpermissions">__MSG__CANCEL__</button>
        <button class="btn btn-primary pull-right" id="setpermissions-savepermissions">__MSG__UPDATE__</button>
    </div>
--></div>

<div id="setpermissions-summary-template"><!--
    <i class="icon-oae-${visibility} pull-left"></i>
    {if viewers.length === 0}
        {if count === 1}
            __MSG__PERMISSIONS_MYLIBRARY_SINGULAR__
        {else}
            __MSG__PERMISSIONS_MYLIBRARY_PLURAL__
        {/if}
    {elseif viewers.length === 1}
        {var share1 = viewers[0].displayName}
        {if count === 1}
            __MSG__PERMISSIONS_MYLIBRARY_SHARE_1_SINGULAR__
        {else}
            __MSG__PERMISSIONS_MYLIBRARY_SHARE_1_PLURAL__
        {/if}
    {elseif viewers.length === 2}
        {var share1 = viewers[0].displayName}
        {var share2 = viewers[1].displayName}
        {if count === 1}
            __MSG__PERMISSIONS_MYLIBRARY_SHARE_2_SINGULAR__
        {else}
            __MSG__PERMISSIONS_MYLIBRARY_SHARE_2_PLURAL__
        {/if}
    {elseif viewers.length === 3}
        {var share1 = viewers[0].displayName}
        {var share2 = viewers[1].displayName}
        {var share3 = viewers[2].displayName}
        {if count === 1}
            __MSG__PERMISSIONS_MYLIBRARY_SHARE_3_SINGULAR__
        {else}
            __MSG__PERMISSIONS_MYLIBRARY_SHARE_3_PLURAL__
        {/if}
    {elseif viewers.length === 4}
        {var share1 = viewers[0].displayName}
        {var share2 = viewers[1].displayName}
        {var share3 = viewers[2].displayName}
        {if count === 1}
            __MSG__PERMISSIONS_MYLIBRARY_SHARE_4_SINGULAR__
        {else}
            __MSG__PERMISSIONS_MYLIBRARY_SHARE_4_PLURAL__
        {/if}
    {elseif viewers.length > 4}
        {var share1 = viewers[0].displayName}
        {var share2 = viewers[1].displayName}
        {var share3 = viewers[2].displayName}
        {var shareOther = viewers.length - 3}
        {if count === 1}
            __MSG__PERMISSIONS_MYLIBRARY_SHARE_5+_SINGULAR__
        {else}
            __MSG__PERMISSIONS_MYLIBRARY_SHARE_5+_PLURAL__
        {/if}
    {/if}

    {if visibility === 'private'}
        {if count === 1}
            <span>__MSG__VISIBILITY_PRIVATE_SINGULAR__</span>
        {else}
            <span>__MSG__VISIBILITY_PRIVATE_PLURAL__</span>
        {/if}
    {elseif visibility === 'loggedin'}
        {var tenant = oae.api.util.security().encodeForHTML(oae.data.me.tenant.displayName)}
        {if count === 1}
            <span>__MSG__VISIBILITY_LOGGEDIN_SINGULAR__</span>
        {else}
            <span>__MSG__VISIBILITY_LOGGEDIN_PLURAL__</span>
        {/if}
    {elseif visibility === 'public'}
        {if count === 1}
            <span>__MSG__VISIBILITY_PUBLIC_SINGULAR__</span>
        {else}
            <span>__MSG__VISIBILITY_PUBLIC_PLURAL__</span>
        {/if}
    {/if}
--></div>

<!-- JAVASCRIPT -->
<script type="application/javascript" src="js/setpermissions.js"></script>
