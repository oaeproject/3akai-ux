<!-- CSS -->
<link rel='stylesheet' type='text/css' href='css/contentauthoring.css' />

<div id='contentauthoring_widget' class='contentauthoring_widget'><!-- --></div>
<div id='contentauthoring_widget_template' style='display:none;'><!--
    {macro insertCell(id, type)}
        <div class='contentauthoring_cell_element {if type === 'htmlblock'} contentauthoring_init{/if}' data-element-type='${type}' data-element-id='${id}'>
            <div id='${id}' data-widget='${type}' />
        </div>
    {/macro}

    {macro insertColumn(column)}
        <div class='contentauthoring_cell' style='width: ${column.width * 100}%'>
            <div class='contentauthoring_cell_container'>
                <div class='contentauthoring_table_row'>
                    <div class='contentauthoring_cell_content'>
                        {for element in column.elements}
                            {if element.dummytext}
                                <div class='contentauthoring_dummy_element' style='display:none;'>
                                    <span class='contentauthoring_dummy_element_dbclick'>__MSG__DOUBLE_CLICK_TO_START_TYPING__.</span>
                                    <span class='contentauthoring_dummy_element_enter' style='display:none;'>__MSG__PRESS_ENTER_TO_START_TYPING__.</span>
                                </div>
                            {elseif element.type}
                                ${insertCell(element.id, element.type)}
                            {/if}
                        {forelse}
                            <div class='contentauthoring_dummy_element' style='display:none;'>
                                <span class='contentauthoring_dummy_element_dbclick'>__MSG__DOUBLE_CLICK_TO_START_TYPING__.</span>
                                <span class='contentauthoring_dummy_element_enter' style='display:none;'>__MSG__PRESS_ENTER_TO_START_TYPING__.</span>
                            </div>
                        {/for}
                    </div>
                    <div class='contentauthoring_cell_handle ui-resizable-handle ui-resizable-e'></div>
                </div>
            </div>
        </div>
    {/macro}

    {macro insertRow(id, columns)}
        <li class='contentauthoring_row_container' data-row-id='${id}'>
            <div class='contentauthoring_row_handle_container'>
                <span class='contentauthoring_row_handle' title='__MSG__DRAG_ME_TO_REORDER_ROWS__'></span>
                <button class='oae-link-button contentauthoring_row_edit' data-row-id='${id}'>
                    <span class='oae-aural-text'>__MSG__EDIT__</span>
                </button>
            </div>
            <div class='contentauthoring_row'>
                <div class='contentauthoring_minheight_container'>
                    <div class='contentauthoring_table_row contentauthoring_cell_container_row' data-row-id='${id}'>
                        {for column in columns}
                            ${insertColumn(column)}
                            <hr class='oae-hidden oae-push'/>
                        {/for}
                    </div>
                </div>
            </div>
        </li>
    {/macro}

    {if template === 'row'}
        ${insertRow(id, columns)}
    {elseif template === 'cell' && type}
        ${insertCell(id, type, settingsoverridden)}
    {elseif template === 'column'}
        ${insertColumn(column)}
    {else}
        <ul id='contentauthoring_widget_container'>
            {for row in rows}
                ${insertRow(row.id, row.columns)}
            {/for}
        </ul>
        <div id='contentauthoring_no_content_container' style='display:none;'></div>
    {/if}
--></div>

<!-- JAVASCRIPT -->
<script type='text/javascript' src='js/contentauthoring.js'></script>
