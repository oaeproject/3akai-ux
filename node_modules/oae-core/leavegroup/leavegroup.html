<!-- CSS -->
<link rel="stylesheet" type="text/css" href="css/leavegroup.css" />

<!-- MODAL -->
<div id="leavegroup-modal" class="modal fade" tabindex="-1" aria-labelledby="leavegroup-modal-title" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="__MSG__CLOSE__">
                    <span aria-hidden="true">&#215;</span>
                </button>
                <h3 id="leavegroup-modal-title">__MSG__LEAVE_GROUP__</h3>
            </div>
            <div id="leavegroup-modal-content"><!-- --></div>
        </div>
    </div>
</div>

<div id="leavegroup-list-template"><!--
    {macro leaveGroupListItemActions()}
        <i class="fa fa-spinner fa-spin">
            <span class="sr-only">__MSG__LEAVING_GROUP__</span>
        </i>
        <i class="fa fa-check hide">
            <span class="sr-only">__MSG__GROUP_LEAVE_SUCCESS__</span>
        </i>
        <i class="fa fa-exclamation-triangle hide">
            <span class="sr-only">__MSG__GROUP_LEAVE_FAILED__</span>
        </i>
    {/macro}

    <div class="modal-body">
        <h4>
            {if groups.length === 1}
                __MSG__ARE_YOU_SURE_YOU_WANT_TO_LEAVE_THIS_GROUP__
            {else}
                __MSG__ARE_YOU_SURE_YOU_WANT_TO_LEAVE_THESE_GROUPS__
            {/if}
        </h4>

        <div class="well">
            <ul id="leavegroup-selected-container" class="oae-list oae-list-compact">
                {for group in groups}
                    {var groupName = oae.api.util.security().encodeForHTML(group.displayName)}
                    ${displayOptions.listItemActions = leaveGroupListItemActions|eat}
                    ${listItem(group, displayOptions)}
                {/for}
            </ul>
        </div>

        <div class="alert alert-danger text-center">
            __MSG__CAUTION_THIS_ACTION_CANNOT_BE_UNDONE__
        </div>
    </div>

    <div class="modal-footer">
        <button class="btn btn-link" data-dismiss="modal">__MSG__CANCEL__</button>
        <button id="leavegroup-leave" class="btn btn-danger">
            {if groups.length === 1}
                __MSG__LEAVE_GROUP__
            {else}
                __MSG__LEAVE_GROUPS__
            {/if}
        </button>
    </div>
--></div>

<div id="leavegroup-notification-title-template"><!--
    {var count = groups.length}
    {if errCount === 0}
        {if count === 1}
            __MSG__LEFT_GROUP__
        {else}
            __MSG__LEFT_GROUPS__
        {/if}
    {else}
        {if errCount === 1}
            {if count === 1}
                __MSG__GROUP_NOT_LEFT__
            {else}
                __MSG__ONE_GROUP_NOT_LEFT__
            {/if}
        {else}
            __MSG__MULTIPLE_GROUPS_NOT_LEFT__
        {/if}
    {/if}
--></div>

<div id="leavegroup-notification-body-template"><!--
    {var count = groups.length}
    {var groupName = oae.api.util.security().encodeForHTML(groups[0].displayName)}

    {if errCount === 0}
        {if count === 1}
            __MSG__SUCCESSFULLY_LEFT_GROUP__
        {else}
            __MSG__SUCCESSFULLY_LEFT_GROUPS__
        {/if}
    {else}
        __MSG__GROUP_AT_LEAST_ONE_MANAGER__
    {/if}
--></div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="js/leavegroup.js"></script>
