<!-- CSS -->
<link rel="stylesheet" type="text/css" href="css/topnavigation.css"/>
<link rel="stylesheet" type="text/css" href="/shared/vendor/css/auth-buttons.css"

<div id="topnavigation_container" class="oae-centered" role="navigation" aria-label="__MSG__TOPNAV_ARIA_LABEL__">
    <a id="topnavigation_skip" class="oae-jump-link oae-bold oae-aural-text oae-hidden" href="#topnavigation_target" accesskey="__MSG__SKIP_TOP_MENU_KEY__">__MSG__SKIP_TOP_MENU__</a>
    <a id="lhnavigation_skip"  class="oae-jump-link oae-bold oae-aural-text oae-hidden" href="#lhnavigation_target" accesskey="__MSG__SKIP_TO_LH_MENU_KEY__">__MSG__SKIP_TO_LH_MENU__</a>
    <div id="topnavigation-scroll-to-top_container">
        <button type="button" class="oae-link-button" id="topnavigation-scroll-to-top" title="__MSG__SCROLL_TO_TOP__" accesskey="s" style="display:none;"></button>
    </div>
    <div id="topnav-container">
        <div id="topnav-left"><!----></div>
        <div id="topnav-right"><!----></div>
        <div id="topnav-center">
            <a href="/"><img src="/ui/img/framework/oae-logo.png"/></a>
        </div>
    </div>
</div>
<h2 id="topnavigation_target" class="oae-aural-text">__MSG__SKIP_MENU_TARGET__</h2>

<!--
////////////////////
// NAVIGATION BAR // 
////////////////////
-->

<div id="topnavigation-left-loggedin-template"><!--
    <ul role="menubar">
        <li>
            <a href="/me" title="Dashboard" id="topnav-home" role="menuitem">
                <div class="oae-home-icon"></div>
            </a>
        </li>
        <li>
            <a href="#" title="Notifications" id="topnav-notifications" role="menuitem">
                <div class="oae-notifications-icon"></div>
            </a>
        </li>
        <li style="display:none">
            <a href="#" title="Messages" id="topnav-inbox" role="menuitem">
                <div class="oae-inbox-icon"></div>
            </a>
        </li>
        <li style="display: none">
            <a href="#" title="Tasks" id="topnav-task" role="menuitem">
                <div class="oae-task-icon"></div>
            </a>
        </li>
        <li style="display: none">
            <a href="#" title="Collections" id="topnav-library" role="menuitem">
                <div class="oae-library-icon"></div>
            </a>
        </li>
    </ul>
--></div>

<div id="topnavigation-left-anonymous-template"><!--
    <a href="#" title="__MSG__SIGN_UP__" class="topnav-links">__MSG__SIGN_UP__</a>
--></div>

<div id="topnavigation-right-loggedin-template"><!--
    <button type="button" class="oae-button oae-overlay-button oae-force-right" title="__MSG__SIGN_OUT__" id="topnav-signout" role="menuitem">__MSG__SIGN_OUT__</button>
    <a href="#" title="Account settings" class="oae-force-right">
        <div class="oae-cogwheel-icon"></div>
    </a>
    <form id="topnav-search-form" class="oae-force-right">
        <input type="text" id="topnav-search-input" class="oae-force-right"/>
    </form>
    <div id="topnavigation-search-results-container"></div>
--></div>

<div id="topnavigation-right-anonymous-template"><!--
    {var hasLocalAuth = oae.api.config.getValue('oae-authentication', 'local', 'enabled')}
    {var hasExternalAuth = oae.api.config.getValue('oae-authentication', 'facebook', 'enabled') || 
                           oae.api.config.getValue('oae-authentication', 'twitter', 'enabled') || 
                           oae.api.config.getValue('oae-authentication', 'google', 'enabled')}

    <a href="#" title="Sign in" class="oae-force-right topnav-links" id="topnav-signin-link">__MSG__SIGN_IN__</a>
    <form id="topnav-search-form" class="oae-force-right">
        <input type="text" id="topnav-search-input" class="oae-force-right"/>
    </form>

    <div class="oae-popup-white topnav-signin oae-form-field-wrapper oae-hidden">
        <div id="topnavigation-user-options-login-fields" class="{if hasExternalAuth && hasLocalAuth}topnavigation-local-and-external {/if}">
            <div id="topnav-3rd-party-login-container" {if !hasExternalAuth} class="oae-hidden" {/if}>
                {if oae.api.config.getValue("oae-authentication", "facebook", "enabled")}
                    <a class="btn-auth btn-facebook" href="/api/auth/facebook">
                        __MSG__SIGN_IN_WITH_FACEBOOK__
                    </a>
                {/if}
                {if oae.api.config.getValue("oae-authentication", "twitter", "enabled")}
                    <a class="btn-auth btn-twitter" href="/api/auth/twitter">
                        __MSG__SIGN_IN_WITH_TWITTER__
                    </a>
                {/if}
                {if oae.api.config.getValue("oae-authentication", "google", "enabled")}
                    <a class="btn-auth btn-google" href="/api/auth/google">
                        __MSG__SIGN_IN_WITH_GOOGLE__
                    </a>
                {/if}
            </div>
            <div id="topnav-local-login-container" {if !hasLocalAuth} class="oae-hidden" {/if}>
                <form id="topnavigation-user-options-login-form" novalidate="novalidate">
                    <label class="oae-input-label-above" for="topnavigation-login-username">Username</label>
                    <input type="text" class="topnavigation-login-container-textfield oae-input required" name="topnavigation-login-username" id="topnavigation-login-username" maxlength="255">
                    <label class="oae-input-label-above" for="topnavigation-login-password">Password</label>
                    <input type="password" class="topnavigation-login-container-textfield oae-input required" name="topnavigation-login-password" id="topnavigation-login-password" maxlength="255">
                    <button id="topnavigation-user-options-login-button-login" class="oae-button oae-overlay-button oae-force-right" type="submit">Sign in</button>
                    <span class="oae-hidden" id="topnavigation-user-options-login-button-signing-in" class="oae-force-right">__MSG__SIGNING_IN__...</span>
                    {if oae.api.config.getValue("oae-authentication", "local", "allowAccountCreation")}
                        <span id="topnavigation-sign-up-link">__MSG__NO_ACCOUNT_YET__?
                            <a href="/register" title="__MSG__SIGN_UP__" class="oae-regular-links topnavigation-sign-up-link">__MSG__SIGN_UP__</a>
                        </span>
                    {/if}
                </form>
            </div>
        </div>
    </div>
    <div class="oae-push"></div>

--></div>

<!--
////////////
// SEARCH //
////////////
-->

<div id="search-template" style="display:none"><!--
    <div class="oae-popup-white" id="topnav-search-results-suggests">
        <div id="topnav-search-results-top">
            <div class="oae-force-right">
                <a href="#"><img src="/ui/img/framework/switch-off.png" class="oae-force-right"/></a>
                <a href="#"><img src="/ui/img/framework/switch-on.png" class="oae-force-right" style="display: none;"/></a>
                <h3>Search the OAE network</h3>
            </div>
        </div>
        <div>
            <h2>Search</h2>
            <ul role="menu">
                {for r in data.results}
                    <li>
                        <div class="topnav_content_icon_container oae-force-left">
                            {if r.resourceType === 'group' || r.resourceType === 'content'}
                                <span class="oae-visibility-${r.visibility} oae-force-left"></span>
                            {else}
                                <img src="/ui/img/dummy/live-search-results-preview-person1.png" class="oae-force-left"/>
                            {/if}
                        </div>
                        <div class="oae-force-left">
                            <a role="menuitem" tabindex="-1" href="/${r.resourceType}/${r.id}" title="${r.displayName|safeUserInput}" class="oae-bold oae-threedots">${r.displayName|safeUserInput}</a>
                        </div>
                    </li>
                    {if r_index != data.results.length -1}<hr class="oae-split-line"/>{/if}
                {/for}
            </ul>
        </div>
        <div id="topnavigation-search-results-bottom-container"></div>
    </div>
--></div>

<div id="search-bottom-template" style="display:none;"><!--
    {if data.total}
        <a href="/search#l=all&q=${query}" class="oae-button oae-overlay-button oae-force-right">
            __MSG__SEE_ALL__
        </a>
    {/if}
    <span id="topnavigation-search_results_bottom_content">
        {if data.total > 0}
            ${data.total} __MSG__RESULTS__
        {else}
            __MSG__NO_RESULTS__
        {/if}
    </span>
--></div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="js/topnavigation.js"></script>
