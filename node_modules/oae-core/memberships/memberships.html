<!-- CSS -->
<link rel="stylesheet" type="text/css" href="css/memberships.css" />

<div class="memberships_widget">
    <div class="row-fluid">
        <div class="span4">
            <h1 class="lead">__MSG__MEMBERSHIPS__</h1>
        </div>
        <div class="span4">
            <div class="oae-search oae-search-compact">
                <form class="form-search" id="memberships_search_form">
                    <input type="text" class="input-medium search-query">
                    <button type="submit" class="btn" title="__MSG__SUBMIT_SEARCH__">__MSG__SEARCH__</button>
                </form>
            </div>
        </div>
        <div class="span4">
            <div class="btn-group pull-right search-view-container">
                <button class="btn search_view_list"><i class="icon-list"></i></button>
                <button class="btn search_view_expandedlist"><i class="icon-th-list"></i></button>
                <button class="btn search_view_grid active"><i class="icon-th-large"></i></button>
            </div>
        </div>
    </div>
    <a href="/creategroup" class="btn btn-inverse" id="memberships_create" title="__MSG__CREATE_A_NEW_GROUP__">__MSG__CREATE_A_NEW_GROUP__</a>
    <ul class="oae-list grid"></ul>
</div>

<div id="memberships_noresults_template" style="display:none"><!--
    <div class="alert">
        <span>__MSG__NO_RESULTS_DESCRIPTION_MYMEMBERSHIPS_ME__ {if !oae.data.me.anon} <a class="oae-regular-links" href="/creategroup" title="__MSG__CREATE_ONE__" class="oae-regular-links">__MSG__CREATE_ONE__</a>{/if}</span>
    </div>
--></div>

<div id="memberships_template"><!--
    {for m in results}
        {var thumbnailUrl = m.thumbnailUrl || '/ui/img/entities/group_icon_large.png'}
        {var mediumThumbnailUrl = m.thumbnailUrl || '/ui/img/entities/group_icon_medium.png'}
        {var smallThumbnailUrl = '/ui/img/entities/group_icon.png'}
        <li class="oae-list-item" {if !m.title} data-key="${m.id}"{/if}>
            <div class="oae-list-item-banner" style="display: none;">
                <div>
                    {if m.visibility === 'private'}
                        <i class="icon-lock pull-right"></i>
                    {elseif m.visibility === 'public'}
                        <i class="icon-globe pull-right"></i>
                    {else}
                        <i class="icon-sitemap pull-right"></i>
                    {/if}
                    <a class="oae-threedots" href="${m.profilePath}" title="${m.displayName|safeUserInput}">${m.displayName|safeUserInput}</a>
                </div>
            </div>
            <div class="oae-list-item-left">
                <img src="${thumbnailUrl}" alt="${m.displayName|safeUserInput}" class="oae-list-item-profile-picture grid"/>
                <div class="oae-list-item-left-inner">
                    {if !oae.data.me.anon}
                        <input type="checkbox" name="${m.id}_chk" id="${m.id}_chk" data-id="${m.id}" class="pull-left"/>
                    {/if}
                    <label for="${m.id}_chk" class="oae-threedots">
                        <img src="${mediumThumbnailUrl}" alt="${m.displayName|safeUserInput}" class="oae-list-item-profile-picture"/>
                        <img src="${smallThumbnailUrl}" alt="${m.displayName|safeUserInput}" class="oae-list-item-small-picture"/>
                        <a class="oae-threedots" href="${m.profilePath}" title="${m.displayName|safeUserInput}">${m.displayName|safeUserInput}</a>
                    </label>
                    <div class="oae-list-description oae-threedots">Cambridge University</div>
                </div>
            </div>
            {if !oae.data.me.anon}
                <input type="checkbox" name="${m.id}_chk" id="${m.id}_chk" data-id="${m.id}" class="oae-list-item-checkbox grid" style="display: none;"/>
            {/if}
            <div class="oae-push"></div>
        </li>
    {/for}
--></div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="js/memberships.js"></script>
