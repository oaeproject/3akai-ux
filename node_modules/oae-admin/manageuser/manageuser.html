<!-- CSS -->
<link rel="stylesheet" type="text/css" href="css/manageuser.css" />

<!-- MODAL -->
<div id="manageuser-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="manageuser-modal-title" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&#215;</button>
                <h3 id="manageuser-modal-title"><!-- --></h3>
            </div>
            <div id="manageuser-tab-container" class="modal-body">
                <ul class="nav nav-tabs">
                    <li class="active">
                        <a href="#manageuser-editprofile-form" data-toggle="tab">__MSG__PROFILE__</a>
                    </li>
                    <li id="manageuser-actions-tab">
                        <a href="#manageuser-actions-form" data-toggle="tab">__MSG__ACTIONS__</a>
                    </li>
                    <li>
                        <a href="#manageuser-password-form" data-toggle="tab">__MSG__PASSWORD__</a>
                    </li>
                </ul>
            </div>

            <div class="tab-content">
                <form id="manageuser-editprofile-form" class="active tab-pane form-horizontal" role="form">
                    <div class="modal-body"><!-- --></div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-link" data-dismiss="modal">__MSG__CANCEL__</button>
                        <button type="submit" class="btn btn-primary">__MSG__SAVE__</button>
                    </div>
                </form>

                <form id="manageuser-actions-form" class="tab-pane form-horizontal" role="form">
                    <div class="modal-body"><!-- --></div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-link" data-dismiss="modal">__MSG__CANCEL__</button>
                        <button type="submit" class="btn btn-primary">__MSG__SAVE__</button>
                    </div>
                </form>

                <form id="manageuser-password-form" class="tab-pane form-horizontal" role="form">
                    <div class="modal-body">
                        <div class="well">
                            <div class="form-group">
                                <label class="control-label col-lg-5" for="manageuser-new-password">__MSG__NEW_PASSWORD_COLON__</label>
                                <div class="col-lg-7">
                                    <input type="password" id="manageuser-new-password" name="manageuser-new-password" placeholder="&#8226;&#8226;&#8226;&#8226;&#8226;&#8226;&#8226;" class="form-control required maxlength-short">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-lg-5" for="manageuser-retype-password">__MSG__RETYPE_NEW_PASSWORD_COLON__</label>
                                <div class="col-lg-7">
                                    <input type="password" id="manageuser-retype-password" name="manageuser-retype-password" placeholder="&#8226;&#8226;&#8226;&#8226;&#8226;&#8226;&#8226;" class="form-control required maxlength-short">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-link" data-dismiss="modal">__MSG__CANCEL__</button>
                        <button type="submit" class="btn btn-primary">__MSG__SAVE__</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div id="manageuser-editprofile-header-template"><!--
    ${userProfile.displayName|encodeForHTML}
    {if userProfile.isTenantAdmin || userProfile.isGlobalAdmin}
        <span class="badge">__MSG__ADMINISTRATOR__</span>
    {/if}
--></div>

<div id="manageuser-editprofile-template"><!--
    <div id="manageuser-basic-profile-container" class="clearfix">
        <div class="col-xs-4">
            ${renderThumbnail(userProfile, null, true, false)}
        </div>
        <div class="col-xs-8">
            <div class="form-group">
                <label for="manageuser-editprofile-name" class="control-label"><h4>__MSG__NAME__</h4></label>
                <input type="text" id="manageuser-editprofile-name" class="form-control required maxlength-short" name="manageuser-editprofile-name" placeholder="__MSG__ENTER_A_NAME__" value="${userProfile.displayName|encodeForHTMLAttribute}"/>
            </div>
            <div class="form-group">
                <label for="manageuser-editprofile-email" class="control-label"><h4>__MSG__EMAIL__</h4></label>
                <input type="text" id="manageuser-editprofile-email" class="form-control required email maxlength-short" name="manageuser-editprofile-email" placeholder="__MSG__ENTER_AN_EMAIL_ADDRESS__" value="${userProfile.email|encodeForHTMLAttribute}"/>
            </div>
        </div>
    </div>
    <h4>__MSG__PROFILE_VISIBILITY__</h4>
    {var tenant = oae.api.util.security().encodeForHTML(userProfile.tenant.displayName)}
    <div class="oae-large-options-container row">
        <div class="col-sm-4 text-center">
            <label for="oae-visibility-private" class="{if userProfile.visibility === 'private'} checked{/if}">
                <i class="icon-ok hide"></i>
                <div class="oae-large-options well">
                    <input type="radio" id="oae-visibility-private" value="private" name="oae-visibility-group" class="pull-left" {if userProfile.visibility === 'private'} checked="checked"{/if} tabindex="0"/>
                    <i class="icon-oae-private large text-center"></i>
                    <span class="oae-threedots">__MSG__PRIVATE__</span>
                </div>
            </label>
        </div>
        <div class="col-sm-4 text-center">
            <label for="oae-visibility-loggedin" class="{if userProfile.visibility === 'loggedin'} checked{/if}">
                <i class="icon-ok hide"></i>
                <div class="oae-large-options well">
                    <input type="radio" id="oae-visibility-loggedin" value="loggedin" name="oae-visibility-group" class="pull-left" {if userProfile.visibility === 'loggedin'} checked="checked"{/if} tabindex="0"/>
                    <i class="icon-oae-loggedin large text-center"></i>
                    <span class="oae-threedots">${tenant}</span>
                </div>
            </label>
        </div>
        <div class="col-sm-4 text-center">
            <label for="oae-visibility-public" class="{if userProfile.visibility === 'public'} checked{/if}">
                <i class="icon-ok hide"></i>
                <div class="oae-large-options well">
                    <input type="radio" id="oae-visibility-public" value="public" name="oae-visibility-group" class="pull-left" {if userProfile.visibility === 'public'} checked="checked"{/if} tabindex="0"/>
                    <i class="icon-oae-public large text-center"></i>
                    <span class="oae-threedots">__MSG__PUBLIC__</span>
                </div>
            </label>
        </div>
    </div>
--></div>

<div id="manageuser-actions-template"><!--
    {if !context.isGlobalAdminServer}
        <h4>__MSG__BECOME_USER__</h4>
        {var displayName = oae.api.util.security().encodeForHTML(userProfile.displayName)}
        <button type="button" id="manageuser-become-user" class="btn btn-primary">
            <i class="icon-user pull-left"></i>__MSG__BECOME_USER_NAME__
        </button>
    {/if}
    <div class="checkbox">
        <h4>__MSG__ADMINISTRATION__</h4>
        <label>
            {if context.isGlobalAdminServer}
                <input id="manageuser-privileges-isadmin" type="checkbox" {if userProfile.isGlobalAdmin} checked="checked"{/if}> __MSG__GLOBAL_ADMIN__
            {else}
                <input id="manageuser-privileges-isadmin" type="checkbox" {if userProfile.isTenantAdmin} checked="checked"{/if}> __MSG__TENANT_ADMIN__
            {/if}
        </label>
    </div>
--></div>

<div id="manageuser-become-user-container"><!-- --></div>

<div id="manageuser-become-user-template"><!--
    <form id="manageuser-become-user-form" class="hide" action="${url|encodeForHTMLAttribute}" method="POST">
        {for attr in body}
            <input type="hidden" name="${attr_index|encodeForHTMLAttribute}" value="${attr|encodeForHTMLAttribute}" />
        {/for}
    </form>
--></div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="js/manageuser.js"></script>
