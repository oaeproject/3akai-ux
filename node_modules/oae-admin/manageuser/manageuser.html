<!-- CSS -->
<link rel="stylesheet" type="text/css" href="css/manageuser.css" />

<!-- MODAL -->
<div id="manageuser-modal" class="modal fade" tabindex="-1" aria-labelledby="manageuser-editprofile-header-container" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="__MSG__CLOSE__">
                    <span aria-hidden="true">&#215;</span>
                </button>
                <h3 id="manageuser-editprofile-header-container"><!-- --></h3>
            </div>

            <div id="manageuser-panel-main">
                <div class="modal-body">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="active">
                            <a href="#manageuser-editprofile-form" data-toggle="tab">__MSG__PROFILE__</a>
                        </li>
                        <li id="manageuser-email-tab">
                            <a href="#manageuser-email-form" data-toggle="tab">__MSG__EMAIL__</a>
                        </li>
                        <li id="manageuser-actions-tab">
                            <a href="#manageuser-actions-form" data-toggle="tab">__MSG__ACTIONS__</a>
                        </li>
                        <li id="manageuser-authentication-tab">
                            <a href="#manageuser-authentication-form" data-toggle="tab">__MSG__AUTHENTICATION__</a>
                        </li>
                    </ul>
                </div>

                <div class="tab-content">
                    <form id="manageuser-editprofile-form" class="active tab-pane form-horizontal" role="form">
                        <div id="manageuser-editprofile-container" class="modal-body"><!-- --></div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-link" data-dismiss="modal">__MSG__CANCEL__</button>
                            <button type="submit" class="btn btn-primary">__MSG__SAVE__</button>
                        </div>
                    </form>

                    <form id="manageuser-email-form" class="tab-pane form-horizontal" role="form">
                        <div id="manageuser-email-container" class="modal-body"><!-- --></div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-link" data-dismiss="modal">__MSG__CANCEL__</button>
                            <button type="submit" class="btn btn-primary">__MSG__SAVE__</button>
                        </div>
                    </form>

                    <form id="manageuser-actions-form" class="tab-pane form-horizontal" role="form">
                        <div id="manageuser-actions-container" class="modal-body"><!-- --></div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-link" data-dismiss="modal">__MSG__CANCEL__</button>
                            <button type="submit" class="btn btn-primary">__MSG__SAVE__</button>
                        </div>
                    </form>

                    <form id="manageuser-authentication-form" class="tab-pane form-horizontal" role="form">
                        <div id="manageuser-authentication-container" class="modal-body"><!-- --></div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-link" data-dismiss="modal">__MSG__CANCEL__</button>
                            <button type="submit" class="btn btn-primary">__MSG__SAVE__</button>
                        </div>
                    </form>
                </div>
            </div>

            <div id="manageuser-panel-deleteuser" class="hide">
                <form id="manageuser-deleteuser-form" class="form-horizontal" role="form">
                    <div class="modal-body">
                        <h4>__MSG__ARE_YOU_SURE_YOU_WANT_TO_DELETE_THIS_ACCOUNT__</h4>
                        <div class="alert alert-danger text-center">
                            __MSG__CAUTION_IT_WILL_NO_LONGER_BE_POSSIBLE_TO_INVITE_THIS_ACCOUNT_INTO_ANY_COLLABORATIONS__
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button id="manageuser-deleteuser-cancel" type="button" class="btn btn-link">__MSG__CANCEL__</button>
                        <button type="submit" class="btn btn-primary btn-danger">__MSG__DELETE_ACCOUNT__</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div id="manageuser-authentication-template"><!--
    <div class="well">
        {for loginId in loginIds}
            {if loginId_index !== 'local'}
                <div class="form-group">
                    <label class="control-label col-lg-5" for="manageuser-loginid-${loginId_index}">${loginId_index}:</label>
                    <div class="col-lg-7">
                        <input type="text" id="manageuser-loginid-${loginId_index}" name="manageuser-loginid-${loginId_index}" class="form-control" value="${loginId}" disabled>
                    </div>
                </div>
            {/if}
        {/for}
        {if loginIds.local}
            <div class="form-group">
                <label class="control-label col-lg-5" for="manageuser-loginid-local">Local:</label>
                <div class="col-lg-7">
                    <input type="text" id="manageuser-loginid-local" name="manageuser-loginid-local" class="form-control" value="${loginIds.local}" disabled>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-lg-5" for="manageuser-new-password">__MSG__NEW_PASSWORD_COLON__</label>
                <div class="col-lg-7">
                    <input type="password" id="manageuser-new-password" name="manageuser-new-password" placeholder="&#8226;&#8226;&#8226;&#8226;&#8226;&#8226;&#8226;" class="form-control required maxlength-short">
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-lg-5" for="manageuser-retype-password">__MSG__RETYPE_NEW_PASSWORD_COLON__</label>
                <div class="col-lg-7">
                    <input type="password" id="manageuser-retype-password" name="manageuser-retype-password" placeholder="&#8226;&#8226;&#8226;&#8226;&#8226;&#8226;&#8226;" class="form-control required maxlength-short">
                </div>
            </div>
        {/if}
    </div>
--></div>

<div id="manageuser-editprofile-header-template"><!--
    ${userProfile.displayName|encodeForHTML}
    {if userProfile.isTenantAdmin || userProfile.isGlobalAdmin}
        <span class="badge">__MSG__ADMINISTRATOR__</span>
    {/if}
--></div>

<div id="manageuser-editprofile-template"><!--
    <div id="manageuser-basic-profile-container" class="clearfix">
        <div class="col-xs-4">
            ${renderThumbnail(userProfile, displayOptions)}
        </div>
        <div class="col-xs-8">
            <div class="form-group">
                <label for="manageuser-editprofile-name" class="control-label"><h4>__MSG__NAME__</h4></label>
                <input type="text" id="manageuser-editprofile-name" class="form-control required maxlength-short" name="manageuser-editprofile-name" placeholder="__MSG__ENTER_A_NAME__" value="${userProfile.displayName|encodeForHTMLAttribute}"/>
            </div>
            {if !userProfile.isUserArchive}
                <div class="form-group">
                    <label for="manageuser-editprofile-email" class="control-label"><h4>__MSG__EMAIL__</h4></label>
                    <input type="text" id="manageuser-editprofile-email" class="form-control required email maxlength-short" name="manageuser-editprofile-email" placeholder="__MSG__ENTER_AN_EMAIL_ADDRESS__" value="${userProfile.email|encodeForHTMLAttribute}"/>
                </div>
            {/if}
        </div>
    </div>
    {if !userProfile.isUserArchive}
        <h4>__MSG__PROFILE_VISIBILITY__</h4>
        {var tenant = oae.api.util.security().encodeForHTML(userProfile.tenant.displayName)}
        <div class="oae-large-options-container row">
            <div class="col-sm-4 text-center">
                <label for="oae-visibility-private" class="{if userProfile.visibility === 'private'} checked{/if}">
                    <i class="fa fa-check hide"></i>
                    <div class="oae-large-options well">
                        <input type="radio" id="oae-visibility-private" value="private" name="oae-visibility-group" class="pull-left" {if userProfile.visibility === 'private'} checked="checked"{/if} tabindex="0"/>
                        <i class="fa fa-oae-private large text-center"></i>
                        <span class="oae-threedots">__MSG__PRIVATE__</span>
                    </div>
                </label>
            </div>
            <div class="col-sm-4 text-center">
                <label for="oae-visibility-loggedin" class="{if userProfile.visibility === 'loggedin'} checked{/if}">
                    <i class="fa fa-check hide"></i>
                    <div class="oae-large-options well">
                        <input type="radio" id="oae-visibility-loggedin" value="loggedin" name="oae-visibility-group" class="pull-left" {if userProfile.visibility === 'loggedin'} checked="checked"{/if} tabindex="0"/>
                        <i class="fa fa-oae-loggedin large text-center"></i>
                        <span class="oae-threedots">${tenant}</span>
                    </div>
                </label>
            </div>
            <div class="col-sm-4 text-center">
                <label for="oae-visibility-public" class="{if userProfile.visibility === 'public'} checked{/if}">
                    <i class="fa fa-check hide"></i>
                    <div class="oae-large-options well">
                        <input type="radio" id="oae-visibility-public" value="public" name="oae-visibility-group" class="pull-left" {if userProfile.visibility === 'public'} checked="checked"{/if} tabindex="0"/>
                        <i class="fa fa-oae-public large text-center"></i>
                        <span class="oae-threedots">__MSG__PUBLIC__</span>
                    </div>
                </label>
            </div>
        </div>
    {/if}
--></div>

<div id="manageuser-email-template"><!--
    {if !userProfile.isUserArchive}
        <h4>__MSG__EMAIL_NOTIFICATIONS__</h4>
        <div id="manageuser-email-options-container">
            <div id="manageuser-email-options" class="clearfix">
                <div class="oae-large-options-container row">
                    <div class="col-sm-3 text-center">
                        <label for="manageuser-email-immediate" {if userProfile.emailPreference === 'immediate'} class="checked"{/if}>
                            <i class="fa fa-check hide"></i>
                            <div class="well oae-large-options">
                                <input type="radio" id="manageuser-email-immediate" value="immediate" name="manageuser-email-group" class="pull-left" tabindex="0" {if userProfile.emailPreference === 'immediate'} checked{/if}/>
                                <i class="fa fa-bolt large text-center"></i>
                                <span class="oae-threedots">__MSG__IMMEDIATE__</span>
                            </div>
                        </label>
                    </div>
                    <div class="col-sm-3 text-center">
                        <label for="manageuser-email-daily" {if userProfile.emailPreference === 'daily'} class="checked"{/if}>
                            <i class="fa fa-check hide"></i>
                            <div class="oae-large-options well">
                                <input type="radio" id="manageuser-email-daily" value="daily" name="manageuser-email-group" class="pull-left" tabindex="0" {if userProfile.emailPreference === 'daily'} checked{/if}/>
                                <i class="fa fa-clock-o large text-center"></i>
                                <span class="oae-threedots">__MSG__DAILY__</span>
                            </div>
                        </label>
                    </div>
                    <div class="col-sm-3 text-center">
                        <label for="manageuser-email-weekly" {if userProfile.emailPreference === 'weekly'} class="checked"{/if}>
                            <i class="fa fa-check hide"></i>
                            <div class="oae-large-options well">
                                <input type="radio" id="manageuser-email-weekly" value="weekly" name="manageuser-email-group" class="pull-left" tabindex="0" {if userProfile.emailPreference === 'weekly'} checked{/if}/>
                                <i class="fa fa-calendar large text-center"></i>
                                <span class="oae-threedots">__MSG__WEEKLY__</span>
                            </div>
                        </label>
                    </div>
                    <div class="col-sm-3 text-center">
                        <label for="manageuser-email-never" {if userProfile.emailPreference === 'never'} class="checked"{/if}>
                            <i class="fa fa-check hide"></i>
                            <div class="oae-large-options well">
                                <input type="radio" id="manageuser-email-never" value="never" name="manageuser-email-group" class="pull-left" tabindex="0" {if userProfile.emailPreference === 'never'} checked{/if}/>
                                <i class="fa fa-ban large text-center"></i>
                                <span class="oae-threedots">__MSG__NEVER__</span>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    {/if}
--></div>

<div id="manageuser-actions-template"><!--
    {var displayName = oae.api.util.security().encodeForHTML(userProfile.displayName)}
    {if !context.isGlobalAdminServer}
        <h4>__MSG__BECOME_USER__</h4>
        <button type="button" class="btn btn-primary manageuser-become-user">
            <i class="fa fa-user pull-left"></i>__MSG__BECOME_USER_NAME__
        </button>
    {/if}
    {if !userProfile.isUserArchive}
        <h4>__MSG__DELETE_ACCOUNT__</h4>
        <button type="button" class="btn btn-primary btn-danger manageuser-delete-user">
            <i class="fa fa-user pull-left"></i>__MSG__DELETE_USER_NAME__
        </button>
        <div class="checkbox">
            <h4>__MSG__ADMINISTRATION__</h4>
            <label>
                {if context.isGlobalAdminServer}
                    <input id="manageuser-privileges-isadmin" type="checkbox" {if userProfile.isGlobalAdmin} checked="checked"{/if}> __MSG__GLOBAL_ADMIN__
                {else}
                    <input id="manageuser-privileges-isadmin" type="checkbox" {if userProfile.isTenantAdmin} checked="checked"{/if}> __MSG__TENANT_ADMIN__
                {/if}
            </label>
        </div>
    {/if}
--></div>

<div id="manageuser-become-user-form-container"><!-- --></div>

<div id="manageuser-become-user-form-template"><!--
    <form id="manageuser-become-user-form" class="hide" action="${url|encodeForHTMLAttribute}" method="POST">
        {for attr in body}
            <input type="hidden" name="${attr_index|encodeForHTMLAttribute}" value="${attr|encodeForHTMLAttribute}" />
        {/for}
    </form>
--></div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="js/manageuser.js"></script>
