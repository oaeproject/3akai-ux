<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/pickeradvanced/css/pickeradvanced.css" />

<!-- MAIN VIEW -->
<div id="pickeradvanced_container" style="display:none" class="dialog">
    <div id="pickeradvanced_container_header" class="dialog_header">
        <div class="dialog_header_inner">
            <h1>Search for People to add</h1>
            <a href="javascript:;" class="dialog_close_image pickeradvanced_close_dialog" title="Close Dialog"></a>
        </div>
    </div>
    <div id="pickeradvanced_container_search" class="dialog_content">
        <div id="pickeradvanced_header">
            <span class="fl-force-left">
                <form id="pickeradvanced_content_search_form" method="post" action="javascript:;">
                    __MSG__SEARCH_FOR__ <input name="pickeradvanced_search_query" id="pickeradvanced_search_query" />
                    <button type="button" class="s3d-button" id="pickeradvanced_search_button">
                        <span class="s3d-button-inner">__MSG__SEARCH__</span>
                    </button>
                </form>
            </span>

            <span class="fl-force-right">
                <select id="pickeradvanced_sort_on">
                    <option default="true" value="lastName_ascending">Last name A-Z</option>
                    <option value="lastName_descending">Last name Z-A</option>
                    <option value="firstName_ascending">First name A-Z</option>
                    <option value="firstName_descending">First name Z-A</option>
                </select>
            </span>
        </div>

        <div id="pickeradvanced_content">
            <div id="pickeradvanced_results_header" class="fl-force-left"><span><a href="javascript:;" class="s3d-action">Select All</a></span></div>
            <div id="pickeradvanced_content_list" class="fl-force-left">
                <ul id="pickeradvanced_people_filters">
                    <li><a href="javascript:;" id="pickeradvanced_search_contacts" class="pickeradvanced_search_filter s3d-action">All Contacts</a></li>
                    <li><a href="javascript:;" id="pickeradvanced_search_users" class="pickeradvanced_search_filter s3d-action">All Users</a></li>
                    <li><a href="javascript:;" id="pickeradvanced_search_groups" class="pickeradvanced_search_filter s3d-action">All Groups</a></li>
                </ul>
                <ul id="pickeradvanced_group_filters">
                    <li><a href="javascript:;" id="pickeradvanced_search_groups_member" class="pickeradvanced_search_filter s3d-action">Groups I can see</a></li>
                    <li><a href="javascript:;" id="pickeradvanced_search_groups_manager" class="pickeradvanced_search_filter s3d-action">Groups I manage</a></li>
                </ul>
                <ul id="pickeradvanced_group_specific_filters">
                </ul>
            </div>
            <div id="pickeradvanced_content_search" class="fl-force-left"></div>
            <div id="pickeradvanced_footer">
                <div id="pickeradvanced_footer_options">
                    <button type="button" class="s3d-button s3d-button-primary fl-force-right" disabled="disabled" id="pickeradvanced_add_button">
                        <span class="s3d-button-inner">__MSG__ADD_SELECTED__</span></span>
                    </button>
                    <button type="button" class="s3d-button fl-force-right" id="pickeradvanced_close">
                        <span class="s3d-button-inner">Cancel</span>
                    </button>
                </div>
            </div>
        </div>



        <div id="pickeradvanced_content_search_pagedefault">

            <div id="pickeradvanced_content_search_listtemplate"><!--
                <ul id="pickeradvanced_list" class="pickeradvanced_page">
                {for p in people}
                    <li id="${p.id}">
                        <span class="pickeradvanced_list_name">${p.name}</span>
                    </li>
                {/for}
                </ul>
            --></div>

            <div id="pickeradvanced_content_search_pagetemplate" style="display:none;"><!--
                {for i in results}
                    {if i['rep:userId']}
                    <li id="${i['rep:userId']}">
                        {if i.picture}
                            <img src="/~${i["rep:userId"]}/public/profile/${i.picture.name}" alt="Profile picture for ${i.firstName} ${i.lastName}" class="pickeradvanced_ppicture"/>
                        {else}
                            <img src="/dev/_images/person_icon.jpg" alt="Default profile picture" class="pickeradvanced_ppicture"/>
                        {/if}
                        <a class="pickeradvanced_name" href="/dev/show.html?type=user&amp;id=${i['rep:userId']}" target="_blank">${sakai.api.User.getDisplayName(i)}</a>
                        <br />
                        <span class="pickeradvanced_subnameinfo">${sakai.api.User.getShortDescription(i)}</span>
                    </li>
                    {else if i['sakai:group-id']}
                    <li id="${i['sakai:group-id']}">
                        {if i.picture}
                            <img src="/~${i["sakai:group-id"]}/public/profile/${i.picture.name}" alt="Profile picture for ${i["sakai:group-title"]}" class="pickeradvanced_ppicture"/>
                        {else}
                            <img src="/dev/_images/person_icon.jpg" alt="Default profile picture" class="pickeradvanced_ppicture"/>
                        {/if}
                        <a class="pickeradvanced_name" href="/dev/show.html?type=group&amp;id=${i["sakai:group-id"]}" target="_blank">${i["sakai:group-title"]}</a>
                        <br />
                        <span class="pickeradvanced_subnameinfo">${i["sakai:group-description"]}</span>
                    </li>
                {/if}
                {/for}
            --></div>
        </div>

        <div id="pickeradvanced_error_template" style="display:none;">
            <span>Sorry, could not retrieve the list of users form the server!</span>
        </div>
    </div>
</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/devwidgets/pickeradvanced/javascript/pickeradvanced.js"></script>