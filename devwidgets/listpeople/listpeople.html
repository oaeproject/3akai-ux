<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/listpeople/css/listpeople.css" />

<!-- MAIN VIEW -->
<div class="listpeople_container">

    <div class="listpeople_header">
        <span class="listpeople_count">0</span>
        <span class="listpeople_count_of" style="display: none;"> __MSG__OF__</span>
        <span class="listpeople_count_total" style="display: none;"> 0</span>
        <span class="listpeople_count_items"> __MSG__ITEMS__</span>
        <span class="listpeople_count_selected" style="display: none;"> __MSG__SELECTED__</span>

        <select id="listpeople_sort_order">
            <option default="true" value="asc">__MSG__ALPHABETICALLY_AZ__</option>
            <option value="desc">__MSG__ALPHABETICALLY_ZA__</option>
        </select>
    </div>

    <div class="listpeople_content">

    </div>

    <div class="listpeople_content_pagetemplate" style="display:none;"><!--
        <ul id="listpeople_page_${pageNumber}" class="listpeople_page">
        {for i in userList}
            {if i.groupid}
            {if selectable} <li id="${i.groupid}" class="selectable">
            {else} <li id="${i.groupid}">
            {/if}
                {if selectable}<input type="checkbox" name="selected" value="${i.groupid}" />{/if}
                {if i.pictureUrl}
                    <a href="/~${i.groupid}" target="_blank"><img src="${i.pictureUrl}" alt="__MSG__GROUP_PICTURE_FOR__ ${i['sakai:group-title']}" class="listpeople_ppicture"/></a>
                {else}
                    <a href="/~${i.groupid}" target="_blank"><img src="/dev/images/group_avatar_icon_32x32.png" alt="__MSG__DEFAULT_GROUP_PICTURE__" class="listpeople_ppicture"/></a>
                {/if}
                <a class="listpeople_name s3d-regular-links s3d-bold" href="/~${i.groupid}" target="_blank">${i['sakai:group-title']}</a>
                <br />
                {if i.subNameInfo && i.subNameInfo.length > 115}
                    <span class="listpeople_subnameinfo">${i.subNameInfo.substring(0, 115)}...</span>
                {else}
                    <span class="listpeople_subnameinfo">${i.subNameInfo}</span>
                {/if}
            </li>
            {elseif i['sakai:group-id']}
            {if selectable} <li id="${i['sakai:group-id']}" class="selectable">
            {else}<li id="${i['sakai:group-id']}">
            {/if}
                {if selectable}<input type="checkbox" name="selected" value="${i['sakai:group-id']}" />{/if}
                {if i.pictureUrl}
                    <a href="/~${i['sakai:group-id']}" target="_blank"><img src="${i.pictureUrl}" alt="__MSG__GROUP_PICTURE_FOR__ ${i['sakai:group-title']}" class="listpeople_ppicture"/></a>
                {else}
                    <a href="/~${i['sakai:group-id']}" target="_blank"><img src="/dev/images/group_avatar_icon_32x32.png" alt="__MSG__DEFAULT_GROUP_PICTURE__" class="listpeople_ppicture"/></a>
                {/if}
                <a class="listpeople_name s3d-regular-links s3d-bold" href="/~${i['sakai:group-id']}" target="_blank">${i['sakai:group-title']}</a>
                <br />
                {if i.subNameInfo && i.subNameInfo.length > 115}
                    <span class="listpeople_subnameinfo">${i.subNameInfo.substring(0, 115)}...</span>
                {else}
                    <span class="listpeople_subnameinfo">${i.subNameInfo}</span>
                {/if}
            </li>
            {elseif i.userid}
            {if selectable} <li id="${i.userid}" class="selectable">
            {else} <li id="${i.userid}">
            {/if}
                {if selectable}<input type="checkbox" name="selected" value="${i.userid}" />{/if}
                {if i.pictureUrl}
                    <a href="/~${i.userid}" target="_blank"><img src="${i.pictureUrl}" alt="__MSG__PROFILE_PICTURE_FOR__ ${unescape(i.displayName)}" class="listpeople_ppicture"/></a>
                {else}
                    <a href="/~${i.userid}" target="_blank"><img src="/dev/images/user_avatar_icon_32x32.png" alt="__MSG__DEFAULT_PROFILE_PICTURE__" class="listpeople_ppicture"/></a>
                {/if}
                <a class="listpeople_name s3d-regular-links s3d-bold" href="/~${i.userid}" target="_blank">${unescape(i.displayName)}</a>
                <br />
                {if i.subNameInfo && i.subNameInfo.length > 115}
                    <span class="listpeople_subnameinfo">${i.subNameInfo.substring(0, 115)}...</span>
                {else}
                    <span class="listpeople_subnameinfo">${i.subNameInfo}</span>
                {/if}
            </li>
            {elseif i.displayName}
            {if selectable} <li id="${i['rep:userId']}" class="selectable">
            {else} <li id="${i['rep:userId']}">
            {/if}
                {if selectable}<input type="checkbox" name="selected" value="${i['rep:userId']}" />{/if}
                {if i.pictureUrl}
                    <a href="/~${i['rep:userId']}" target="_blank"><img src="${i.pictureUrl}" alt="__MSG__PROFILE_PICTURE_FOR__ ${unescape(i.displayName)}" class="listpeople_ppicture"/></a>
                {else}
                    <a href="/~${i['rep:userId']}" target="_blank"><img src="/dev/images/user_avatar_icon_32x32.png" alt="__MSG__DEFAULT_PROFILE_PICTURE__" class="listpeople_ppicture"/></a>
                {/if}
                <a class="listpeople_name s3d-regular-links s3d-bold" href="/~${i['rep:userId']}" target="_blank">${unescape(i.displayName)}</a>
                <br />
                {if i.subNameInfo && i.subNameInfo.length > 115}
                    <span class="listpeople_subnameinfo">${i.subNameInfo.substring(0, 115)}...</span>
                {else}
                    <span class="listpeople_subnameinfo">${i.subNameInfo}</span>
                {/if}
            </li>
            {elseif i["sling:resourceType"] === "sakai/pooled-content"}
            {if selectable} <li id="${i.content_id}" class="selectable">
            {else} <li id="${i.content_id}">
            {/if}
                {if selectable}<input type="checkbox" name="selected" value="${i.content_id}" />{/if}
                {if i.avatar}
                    <a href="/content#p=${i.content_id}/${i["sakai:pooled-content-file-name"]}" target="_blank"><img src="${i.avatar}" alt="__MSG__CONTENT_PICTURE_FOR__ ${i["sakai:pooled-content-file-name"]}" class="listpeople_ppicture"/></a>
                {/if}
                <a class="listpeople_name s3d-regular-links s3d-bold" href="/content#p=${i.content_id}/${i["sakai:pooled-content-file-name"]}" target="_blank">${i["sakai:pooled-content-file-name"]}</a>
                <br />
                {if i.subNameInfo && i.subNameInfo.length > 115}
                    <span class="listpeople_subnameinfo">${i.subNameInfo.substring(0, 115)}...</span>
                {else}
                    <span class="listpeople_subnameinfo">${i.subNameInfo}</span>
                {/if}
            </li>
            {/if}
        {/for}
        </ul>
        <div class="jq_pager"></div>
    --></div>

    <div class="listpeople_error_template" style="display:none;">
        <span>__MSG__SORRY_NO_USERS__</span>
    </div>

</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/devwidgets/listpeople/javascript/listpeople.js"></script>
