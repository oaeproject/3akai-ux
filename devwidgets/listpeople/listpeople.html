<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/listpeople/css/listpeople.css" />

<!-- MAIN VIEW -->
<div class="listpeople_container">

    <div class="listpeople_header">
        <span class="listpeople_count">0</span>
        <span class="listpeople_count_of" style="display: none;"> of</span>
        <span class="listpeople_count_total" style="display: none;"> 0</span>
        <span class="listpeople_count_items"> item(s)</span>
        <span class="listpeople_count_selected" style="display: none;"> selected</span>

        <button type="button" class="s3d-button listpeople_sort_order">
            <span class="s3d-button-inner">Sort</span>
        </button>
        <select id="listpeople_sort_order">
            <option default="true" value="ascending">Alphabetically A - Z</option>
            <option value="descending">Alphabetically Z - A</option>
        </select>
    </div>

    <div class="listpeople_content">

    </div>

    <div class="listpeople_content_pagetemplate" style="display:none;"><!--
        {for i in userList}
            {if i.groupid}
            <li id="${i.groupid}">
                {if selectable}<input type="checkbox" name="selected" value="${i.groupid}" />{/if}
                {if i.picture}
                    <a href="/~${i.groupid}" target="_blank"><img src="/~${i.groupid}/public/profile/${i.picture.name}" alt="Group picture for ${i['sakai:group-title']}" class="listpeople_ppicture"/></a>
                {else}
                    <a href="/~${i.groupid}" target="_blank"><img src="/dev/_images/group_avatar_icon_32x32.png" alt="Default group picture" class="listpeople_ppicture"/></a>
                {/if}
                <a class="listpeople_name" href="/~${i.groupid}" target="_blank">${i['sakai:group-title']}</a>
                <br />
                {if i.subNameInfo && i.subNameInfo.length > 115}
                    <span class="listpeople_subnameinfo">${i.subNameInfo.substring(0, 115)}...</span>
                {else}
                    <span class="listpeople_subnameinfo">${i.subNameInfo}</span>
                {/if}
            </li>
            {elseif i['sakai:group-id']}
            <li id="${i['sakai:group-id']}">
                {if selectable}<input type="checkbox" name="selected" value="${i['sakai:group-id']}" />{/if}
                {if i.picture}
                    <a href="/~${i['sakai:group-id']}" target="_blank"><img src="/~${i['sakai:group-id']}/public/profile/${i.picture.name}" alt="Group picture for ${i['sakai:group-title']}" class="listpeople_ppicture"/></a>
                {else}
                    <a href="/~${i['sakai:group-id']}" target="_blank"><img src="/dev/_images/group_avatar_icon_32x32.png" alt="Default group picture" class="listpeople_ppicture"/></a>
                {/if}
                <a class="listpeople_name" href="/~${i['sakai:group-id']}" target="_blank">${i['sakai:group-title']}</a>
                <br />
                {if i.subNameInfo && i.subNameInfo.length > 115}
                    <span class="listpeople_subnameinfo">${i.subNameInfo.substring(0, 115)}...</span>
                {else}
                    <span class="listpeople_subnameinfo">${i.subNameInfo}</span>
                {/if}
            </li>
            {elseif i.userid}
            <li id="${i.userid}">
                {if selectable}<input type="checkbox" name="selected" value="${i.userid}" />{/if}
                {if i.picture}
                    <a href="/~${i.userid}" target="_blank"><img src="/~${i.userid}/public/profile/${i.picture.name}" alt="Profile picture for ${unescape(i.displayName)}" class="listpeople_ppicture"/></a>
                {else}
                    <a href="/~${i.userid}" target="_blank"><img src="/dev/_images/user_avatar_icon_32x32.png" alt="Default profile picture" class="listpeople_ppicture"/></a>
                {/if}
                <a class="listpeople_name" href="/~${i.userid}" target="_blank">${unescape(i.displayName)}</a>
                <br />
                {if i.subNameInfo && i.subNameInfo.length > 115}
                    <span class="listpeople_subnameinfo">${i.subNameInfo.substring(0, 115)}...</span>
                {else}
                    <span class="listpeople_subnameinfo">${i.subNameInfo}</span>
                {/if}
            </li>
            {elseif i.displayName}
            <li id="${i['rep:userId']}">
                {if selectable}<input type="checkbox" name="selected" value="${i['rep:userId']}" />{/if}
                {if i.picture}
                    <a href="/~${i['rep:userId']}" target="_blank"><img src="/~${i["rep:userId"]}/public/profile/${i.picture.name}" alt="Profile picture for ${unescape(i.displayName)}" class="listpeople_ppicture"/></a>
                {else}
                    <a href="/~${i['rep:userId']}" target="_blank"><img src="/dev/_images/user_avatar_icon_32x32.png" alt="Default profile picture" class="listpeople_ppicture"/></a>
                {/if}
                <a class="listpeople_name" href="/~${i['rep:userId']}" target="_blank">${unescape(i.displayName)}</a>
                <br />
                {if i.subNameInfo && i.subNameInfo.length > 115}
                    <span class="listpeople_subnameinfo">${i.subNameInfo.substring(0, 115)}...</span>
                {else}
                    <span class="listpeople_subnameinfo">${i.subNameInfo}</span>
                {/if}
            </li>
            {elseif i["jcr:primaryType"] === "sakai:pooled-content"}
            <li id="${i.content_id}">
                {if selectable}<input type="checkbox" name="selected" value="${i.content_id}" />{/if}
                {if i.avatar}
                    <a href="/dev/content_profile.html#content_path=/p/${i.content_id}" target="_blank"><img src="${i.avatar}" alt="Content picture for ${i["sakai:pooled-content-file-name"]}" class="listpeople_ppicture"/></a>
                {/if}
                <a class="listpeople_name" href="/dev/content_profile.html#content_path=/p/${i.content_id}" target="_blank">${i["sakai:pooled-content-file-name"]}</a>
                <br />
                {if i.subNameInfo && i.subNameInfo.length > 115}
                    <span class="listpeople_subnameinfo">${i.subNameInfo.substring(0, 115)}...</span>
                {else}
                    <span class="listpeople_subnameinfo">${i.subNameInfo}</span>
                {/if}
            </li>
            {/if}
        {/for}
    --></div>

    <div class="listpeople_error_template" style="display:none;">
        <span>Sorry, could not retrieve the list of users form the server!</span>
    </div>

</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/devwidgets/listpeople/javascript/listpeople.js"></script>
