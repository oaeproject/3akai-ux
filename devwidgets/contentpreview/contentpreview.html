<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/contentpreview/css/contentpreview.css" />

<div id="contentpreview_widget_main_container" class="contentpreview_widget">
</div>

<div id="contentpreview_widget_main_template" style="display:none"><!--
    {var mimeType = sakai.api.Content.getMimeType(sakai_global.content_profile.content_data.data)}
    {if type === "default"}
        <div class="contentpreview_default_preview" id="contentpreview_default_preview">
            <div id="contentpreview_default_preivew_button">
                {if mimeType === "x-sakai/link"}
                    <a id="contentpreview_download_button" href="${sakai_global.content_profile.content_data.data["sakai:pooled-content-url"]}" class="s3d-button s3d-button-primary" target="_blank">
                        <span class="s3d-button-inner">Open Link</span>
                    </a>
                {else}
                    <a id="contentpreview_download_button" href="${sakai_global.content_profile.content_data.path}" class="s3d-button s3d-button-primary" target="_blank">
                        <span class="s3d-button-inner">Download</span>
                    </a>
                {/if}
                {if sakai_global.content_profile.content_data.isManager}
                    <div id="contentpreview_actions_container" class="contentpreview_actions_container_default">
                        <button type="submit" class="s3d-button s3d-button-secondary" id="content_preview_delete">
                            <span class="s3d-button-inner">Delete</span>
                        </button>
                        {if sakai_global.content_profile.content_data.data._mimeType != "x-sakai/link"}
                            <button type="submit" class="s3d-button s3d-button-secondary new_version" id="upload_content">
                                <span class="s3d-button-inner">Upload new version</span>
                            </button>
                        {/if}
                    </div>
                {/if}
            </div>
            <div id="contentpreview_default_preview_image">
            {if sakai.config.MimeTypes[sakai_global.content_profile.content_data.data["_mimeType"]]}
                <img class="s3d-icon-64" src="${sakai.config.MimeTypes[sakai_global.content_profile.content_data.data["_mimeType"]].URL}" alt="${sakai.config.MimeTypes[sakai_global.content_profile.content_data.data["_mimeType"]].description}"/>
            {else}
              <img class="s3d-icon-64" src="${sakai.config.MimeTypes["other"].URL}" alt="${sakai.config.MimeTypes["other"].description}"/>
            {/if}
            </div>
            <div id="contentpreivew_default_preivew_data">
                Created by <a class="s3d-action" href="/~${sakai_global.content_profile.content_data.data["sakai:pool-content-created-for"]}">${sakai_global.content_profile.content_data.creator}</a> <br/>
                ${sakai.api.Util.convertToHumanReadableFileSize(sakai_global.content_profile.content_data.data["length"] || sakai_global.content_profile.content_data.data["_length"])}<br/>
                {if sakai_global.content_profile.content_data.data["_mimeType"] !== "x-sakai/link"}
                    ${sakai_global.content_profile.content_data.data["_mimeType"]}
                {/if}
            </div>
        </div>
    {else}
        <div class="contentpreview_fullsize_preview contentpreview_other_preview" id="contentpreview_fullsize_preview"></div>
        <div id="contentpreview_other_preview_buttons" class="fl-push">
            {if buttons === "default"}
                <a id="contentpreview_download_button" href="${sakai_global.content_profile.content_data.path}" class="s3d-button s3d-button-primary" target="_blank">
                    <span class="s3d-button-inner">Download</span>
                </a>
                {if sakai_global.content_profile.content_data.isManager}
                    <div id="contentpreview_actions_container">
                        <button type="submit" class="s3d-button s3d-button-secondary" id="content_preview_delete">
                            <span class="s3d-button-inner">Delete</span>
                        </button>
                        <button type="submit" class="s3d-button s3d-button-secondary new_version" id="upload_content">
                            <span class="s3d-button-inner">Upload new version</span>
                        </button>
                    </div>
                {/if}
            {elseif buttons === "links"}
                <a id="contentpreview_download_button" href="${sakai_global.content_profile.content_data.data["sakai:pooled-content-url"]}" class="s3d-button s3d-button-primary" target="_blank">
                    <span class="s3d-button-inner">Open Link</span>
                </a>
                {if sakai_global.content_profile.content_data.isManager}
                    <div id="contentpreview_actions_container">
                        <button type="submit" class="s3d-button s3d-button-secondary" id="content_preview_delete">
                            <span class="s3d-button-inner">Delete</span>
                        </button>
                    </div>
                {/if}
            {/if}
        </div>
    {/if}
--></div>

<div id="contentpreview_fullsize_template" style="display:none"><!--
    <div id="widget_documentviewer_cpFullSizePreview" class="widget_inline"></div>
--></div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/devwidgets/contentpreview/javascript/contentpreview.js"></script>
