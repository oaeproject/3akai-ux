<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/recentmessages/css/recentmessages.css" />

<!-- ERRORS -->
<div id="recentmessages_error" style="display:none;">
    <div id="recentmessages_error_nomessages" class="recentmessages_error">__MSG__NO_MESSAGES_AVAILABLE__</div>
    <div id="recentmessages_error_notconnected" class="recentmessages_error">__MSG__NOT_CONNECTED__</div>
</div>

<!-- CONTENT -->
    <div id="recentmessages_container"></div>

    <div id="recentmessages_template"><!--
        <ul>
            {for message in results}
                <li {if message_index % 2} class="recentmessages_alterrow"{/if}>
                    <span class="recentmessages_sendername" title="${sakai.api.User.getDisplayName(message.userFrom[0])}">${message.dotteduserFrom} {if message.userFrom.length > 1} __MSG__AND_OTHERS__...{/if}:</span>
                        <a href="/inbox#message=${message.id}" class="s3d-regular-links {if message["sakai:read"]==="false" || message["sakai:read"]===false} s3d-bold{/if}">
                            <div class="recentmessages_ellipsis_container">
                            <span class="recentmessages_ellipsis_text">
                            {if message["sakai:type"] === "chat"}
                                    __MSG__CHAT_MESSAGE__
                            {else}
                                    ${message["sakai:subject"]}
                            {/if}
                            </span>
                            </div>
                        </a>
                </li>
            {/for}
        </ul>
    --></div>
    <div class="s3d-widget-footer">
        <a href="/me#l=messages/inbox" class="s3d-regular-links s3d-action-seeall">__MSG__VIEW_AND_MANAGE_ALL_MY_MESSAGES__</a>
    </div>
</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/devwidgets/recentmessages/javascript/recentmessages.js"></script>
