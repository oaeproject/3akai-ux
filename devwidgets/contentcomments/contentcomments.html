<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/contentcomments/css/contentcomments.css" />

<!-- MAIN VIEW -->
<div id="contentcomments_mainContainer" class="fl-widget-content s3d-widget-content" style="display:none;">
    <div id="contentcomments_titlebar">
        <span class="contentcomments_titleLeft">__MSG__COMMENTS__</span><!--<span class="contentcomments_titleRight">__MSG__DISPLAYING__ <span id="contentcomments_numCommentsDisplayed"></span> __MSG__OUT_OF__ <span id="contentcomments_numComments" >0</span id="contentcomments_contentcommentscomment"> __MSG__COMMENTS__</span>-->
        <!-- <span class="contentcomments_titleRight" id="contentcomments_editorOptions" style="display:none;">
            <span id="contentcomments_allowCommentsOption">
                <input type="checkbox" id="contentcomments_allowCommentsCheckbox" name="allowComments" value="" checked="checked" />
                <label for="allowComments">__MSG__ALLOW_COMMENTS__</label>
            </span>
            <span id="contentcomments_showCommentsOption">
                <input type="checkbox" id="contentcomments_showCommentsCheckbox" name="showComments" value="" checked="checked" />
                <label for="showComments">__MSG__SHOW_COMMENTS__</label>
            </span>
        </span> -->
    </div>

    <div id="contentcomments_userCommentContainer">
        <div id="contentcomments_userProfileAvatar">
            <img id="contentcomments_userProfileAvatarPicture" alt="__MSG__AVATAR__" class="contentcomments_avatar" src="/dev/images/default_profile_picture_64.png" />
        </div>
        <div class="contentcomments_arrowLeftFiller"></div>
        <div class="contentcomments_arrowLeft"></div>
        <div id="contentcomments_fillInComment">
            <div class="contentcomments_fillInCommentTopContainer">
                <br />
                <div id="contentcomments_txtNamePoster_container" style="display:none;">
                    <label for="contentcomments_txtNamePoster">__MSG__NAME__:</label>
                    <input type="text" class="contentcomments_inputFields" id="contentcomments_txtNamePoster"><br />
                </div>
                <div id="contentcomments_txtMailPoster_container" style="display:none;">
                    <label for="contentcomments_txtMailPoster">__MSG__EMAIL__:</label>
                    <input type="text" class="contentcomments_inputFields" id="contentcomments_txtMailPoster"><br />
                </div>
                <textarea id="contentcomments_txtMessage" class="contentcomments_inputFields" cols="20"></textarea>
                <div class="dialog_buttons right">
                    <button type="button" class="s3d-button s3d-button-link-2-state comment_postCommentTopBottom" id="contentcomments_postComment">
                        <span class="s3d-button-inner s3d-button-link-2-state-inner">__MSG__COMMENT__</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="contentcomments_nextButtons">
        <div class="jq_pager contentcomments_jqpager" style="display:none;"><!-- In this container the pager on top will be shown --></div>
    </div>

    <div id="contentcomments_contentcommentsDisabled" style="display:none;">
        <p>__MSG__COMMENTS_ARE_CURRENTLY_DISABLED__</p>
    </div>

    <div id="contentcomments_showComments">
        <!-- In this container all contentcomments will be shown -->
    </div>
    <div id="contentcomments_showCommentsTemplate" style="display:none"><!--
    <div>
    <div class="contentcommentsTable">

        {for i in comments}
        <div class="contentcomments_comment">
            <div class="contentcomments_leftCommentBar">
                <img alt="__MSG__AVATAR__" class="contentcomments_avatar" src="${i.user.pictureUrl}" />
            </div>
            <div class="contentcomments_topCommentBar">
                <div class="contentcomments_posterData s3d-regular-light-links">
                    <span class="contentcomments_posterDataName s3d-regular-light-links"><a href="/~${i.user.uid}" target="_blank">${i.user.fullName}</a></span>
                    <span class="contentcomments_dateComment">${i.formatDate}</span>
                </div>
                {if i.canDelete && i.canDelete === true || i.userid === sakai.data.me.user.userid}
                    {if i["sakai:deleted"] && i["sakai:deleted"] === true}
                        <button type="button" class="contentcomments_undelete s3d-regular-light-links s3d-link-button" id="contentcomments_undelete_${i['sakai:id']}">__MSG__UNDELETE__</button>
                    {else}
                        <button type="button" class="contentcomments_delete s3d-regular-light-links s3d-link-button" id="contentcomments_delete_${i['sakai:id']}">__MSG__DELETE__</button>
                    {/if}
                {/if}
                <div class="contentcomments_commentMessage">
                    <div class="contentcomments_commentLinks">
                        <input type="hidden" id="contentcomments_path_${i['sakai:id']}" value="${i.commentId}" />
                            {if i.canEdit && i.canEdit === true}
                                <ul>
                                    <span class="dialog_buttons right">
                                        <li><button type="button" class="s3d-button s3d-button-link-2-state contentcomments_edit" id="contentcomments_edit_${i['sakai:id']}">
                                                <span class="s3d-button-inner s3d-button-link-2-state-inner s3d-button-link-2-state-inner-secondary">__MSG__EDIT__</span>
                                            </button>
                                        </li>
                                    </span>
                                </ul>
                            {/if}
                    </div>

                    {if i["sakai:deleted"] && i["sakai:deleted"] === true}
                        <p class="contentcomments_infoDeleted">This comment has been deleted. Only site collaborators can see this comment.
                        {if i.canDelete && i.canDelete === true}
                            <br />You can return it by clicking the undelete link.
                        {/if}
                        </p>
                    {/if}
                    <div id="contentcomments_message_${i['sakai:id']}" class="contentcomments_message">
                        <p>${i.message}</p>
                    </div>
                    <div id="contentcomments_message_editContainer_${i['sakai:id']}" style="display:none;">
                        <textarea class="contentcomments_txtMessage" id="contentcomments_editComment_txt_${i['sakai:id']}" rows="7" cols="50">${i.messageTxt}</textarea><br />
                        <div class="dialog_buttons right">
                            <button type="button" class="s3d-button s3d-button-primary contentcomments_editComment_save" id="contentcomments_editComment_save${i['sakai:id']}"><span class="s3d-button-inner">__MSG__EDIT_COMMENT__</span></button>
                            <button type="button" class="s3d-button contentcomments_editComment_cancel" id="contentcomments_editComment_cancel${i['sakai:id']}"><span class="s3d-button-inner">__MSG__CANCEL__</span></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {forelse}
            {if sakai.data.me.user.anon}
                <div class="s3d-no-results-container">
                    <div class="s3d-no-results-arrow-up"></div>
                    <div class="s3d-no-results-icon s3d-no-results-search-content"></div>
                    <h1>__MSG__NO_RESULTS_DESCRIPTION__</h1>
                </div>
            {/if}
        {/for}
    </div>

    </div>
    --></div>
    <div class="contentcomments_nextButtons">
        <button type="button" class="s3d-button" id="contentcomments_prevPage"><span class="s3d-button-inner">__MSG__PREVIOUS_PAGE__</span></button><br />
        <div class="jq_pager contentcomments_jqpager" style="display:none;"><!-- In this container the pager will be shown (bottom) --></div>
    </div>
</div>

<!-- SETTINGS VIEW -->
<div id="contentcomments_settings" class="fl-widget-content s3d-widget-content" style="display:none;">
    <form class="contentcomments_form">
        <div class="contentcomments_settingsPart">
            <h3>__MSG__DISPLAY__:</h3>
            <ul>
                <li>
                    <label for="contentcomments_PerPageID" class="video_source_rbtLabel">__MSG__DISPLAY__ <input type="text" id="contentcomments_txtPage" />
                    __MSG__COMMENT_AT_A_TIME__.</label></input><br />
                </li>
                <li>&nbsp;</li>
                <li>
                    <input type="radio" name="contentcomments_ChooseDirectionComments" value="contentcomments_FirstUp" id="contentcomments_FirstUpID" checked="checked">
                        <label for="contentcomments_FirstUpID" class="video_source_rbtLabel">__MSG__LATEST_COMMENT_IS_AT THE_TOP_OF_THE_COMMENT_LIST__</label>
                    </input>
                </li>
                <li>
                    <input type="radio" name="contentcomments_ChooseDirectionComments" value="contentcomments_FirstDown" id="contentcomments_FirstDownID">
                        <label for="contentcomments_FirstDownID" class="video_source_rbtLabel">__MSG__LATEST_COMMENT_IS_AT THE_BOTTOM_OF_THE_COMMENT_LIST__</label>
                    </input>
                </li>
            </ul>

        </div>
        <div class="contentcomments_settingsPart">
            <h3>__MSG__PERMISSIONS__:</h3>
            <ul>
                <li><input type="radio" name="contentcomments_ChoosePermissionComments" value="contentcomments_RequireLogIn" id="contentcomments_RequireLogInID" Name="contentcomments_RequireLogIn">
                <label for="contentcomments_RequireLogInID" class="video_source_rbtLabel"> __MSG__ONLY_REGISTERED_USERS_CAN_COMMENT__</label></input><br /></li>
                <li>
                    <input type="radio" name="contentcomments_ChoosePermissionComments" value="contentcomments_DontRequireLogin" id="contentcomments_DontRequireLoginID" Name="contentcomments_DontRequireLogin"  checked="checked">
                        <label for="contentcomments_DontRequireLoginID" class="video_source_rbtLabel">__MSG__ALLOW_ANYONE_TO_COMMENT__</label>
                    </input>
                </li>
                <li>
                    <ul>
                        <li>
                            <input type="checkbox" id="contentcomments_Namerequired">
                                <label for="contentcomments_Namerequired" class="video_source_rbtLabel">__MSG__COMMENTS_REQUIRE_NAME__</label>
                            </input>
                        </li>
                        <li>
                            <input type="checkbox" id="contentcomments_Emailrequired">
                                <label for="contentcomments_Emailrequired" class="video_source_rbtLabel" >__MSG__COMMENTS_REQUIRE_EMAIL__</label>
                            </input>
                        </li>
                    </ul>
                </li>
            </ul>
            <br />
        </div>

        <div class="contentcomments_settingsPart">
            <h3>__MSG__NOTIFICATION__:</h3>
            <ul><li><input type="checkbox" id="contentcomments_SendMail"><label for="contentcomments_SendMail" class="video_source_rbtLabel"> __MSG__EMAIL_ME_WHEN_THERE_IS_A_NEW_COMMENT__</label></input></li></ul>
        </div>

        <div class="dialog_buttons right">
            <button type="button" class="s3d-button s3d-button-primary" id="contentcomments_submit"><span class="s3d-button-inner">__MSG__SAVE__</span></button>
            <button type="button" class="s3d-button" id="contentcomments_cancel"><span class="s3d-button-inner">__MSG__CANCEL__</span></button>
        </div>
    </form>
</div>
<!-- WIDGET FOOTER-->
<div class="s3d-widget-no-options"><div class="s3d-widget-no-options-inner"><!-- --></div></div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/devwidgets/contentcomments/javascript/contentcomments.js"></script>