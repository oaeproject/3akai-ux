<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/contentcomments/css/contentcomments.css" />

<!-- MAIN VIEW -->
<div id="comments_mainContainer" class="fl-widget-content s3d-widget-content" style="display:none;">
    <div id="comments_titlebar">
        <span class="comments_titleLeft">__MSG__COMMENTS__</span><!--<span class="comments_titleRight">__MSG__DISPLAYING__ <span id="comments_numCommentsDisplayed"></span> __MSG__OUT_OF__ <span id="comments_numComments" >0</span id="comments_commentscomment"> __MSG__COMMENTS__</span>-->
        <span class="comments_titleRight" id="comments_editorOptions" style="display:none;">
            <span id="comments_allowCommentsOption">
                <input type="checkbox" id="comments_allowCommentsCheckbox" name="allowComments" value="" checked="checked" />
                <label for="allowComments">__MSG__ALLOW_COMMENTS__</label>
            </span>
            <span id="comments_showCommentsOption">
                <input type="checkbox" id="comments_showCommentsCheckbox" name="showComments" value="" checked="checked" />
                <label for="showComments">__MSG__SHOW_COMMENTS__</label>
            </span>
        </span>
    </div>

    <div id="comments_userCommentContainer">
        <div id="comments_userProfileAvatar">
            <img id="comments_userProfileAvatarPicture" alt="__MSG__AVATAR__" class="comments_avatar" src="/dev/images/default_profile_picture_64.png" />
        </div>
        <div class="comments_arrowLeftFiller"></div>
        <div class="comments_arrowLeft"></div>
        <div id="comments_fillInComment">
            <div class="comments_fillInCommentTopContainer">
                <br />
                <div id="comments_txtNamePoster_container" style="display:none;">
                    <label for="comments_txtNamePoster">__MSG__NAME__:</label>
                    <input type="text" class="comments_inputFields" id="comments_txtNamePoster"><br />
                </div>
                <div id="comments_txtMailPoster_container" style="display:none;">
                    <label for="comments_txtMailPoster">__MSG__EMAIL__:</label>
                    <input type="text" class="comments_inputFields" id="comments_txtMailPoster"><br />
                </div>
                <textarea id="comments_txtMessage" class="comments_inputFields" cols="20"></textarea>
                <div class="dialog_buttons right">
                    <button type="button" class="s3d-button s3d-button-link-2-state comment_postCommentTopBottom" id="comments_postComment">
                        <span class="s3d-button-inner s3d-button-link-2-state-inner">__MSG__COMMENT__</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="comments_nextButtons">
        <div class="jq_pager comments_jqpager" style="display:none;"><!-- In this container the pager on top will be shown --></div>
    </div>

    <div id="comments_commentsDisabled" style="display:none;">
        <p>__MSG__COMMENTS_ARE_CURRENTLY_DISABLED__</p>
    </div>

    <div id="comments_showComments">
        <!-- In this container all comments will be shown -->
    </div>
    <div id="comments_showCommentsTemplate" style="display:none"><!--
    <div>
    <div class="commentsTable">

        {for i in comments}
        <div class="comments_comment">
            <div class="comments_leftCommentBar">
                <img alt="__MSG__AVATAR__" class="comments_avatar" src="${i.user.pictureUrl}" />
            </div>
            <div class="comments_topCommentBar">
                <div class="comments_posterData s3d-regular-light-links">
                    <span class="comments_posterDataName s3d-regular-light-links"><a href="/~${i.user.uid}" target="_blank">${i.user.fullName}</a></span>
                    <span class="comments_dateComment">${i.formatDate}</span>
                </div>
                {if i.canDelete && i.canDelete === true || i.userid === sakai.data.me.user.userid}
                    {if i["sakai:deleted"] && i["sakai:deleted"] === true}
                        <button type="button" class="comments_undelete s3d-regular-light-links s3d-link-button" id="comments_undelete_${i['sakai:id']}">__MSG__UNDELETE__</button>
                    {else}
                        <button type="button" class="comments_delete s3d-regular-light-links s3d-link-button" id="comments_delete_${i['sakai:id']}">__MSG__DELETE__</button>
                    {/if}
                {/if}
                <div class="comments_commentMessage">
                    <div class="comments_commentLinks">
                        <input type="hidden" id="comments_path_${i['sakai:id']}" value="${i.commentId}" />
                        
                            {if i.canEdit && i.canEdit === true}
                                <ul>
                                    <span class="dialog_buttons right">
                                        <li><button type="button" class="s3d-button s3d-button-link-2-state comments_edit" id="comments_edit_${i['sakai:id']}">
                                                <span class="s3d-button-inner s3d-button-link-2-state-inner s3d-button-link-2-state-inner-secondary">__MSG__EDIT__</span>
                                            </button>
                                        </li>
                                    </span>
                                </ul>
                            {/if}
                    </div>

                    {if i["sakai:deleted"] && i["sakai:deleted"] === true}
                        <p class="comments_infoDeleted">This comment has been deleted. Only site collaborators can see this comment.
                        {if i.canDelete && i.canDelete === true}
                            <br />You can return it by clicking the undelete link.
                        {/if}
                        </p>
                    {/if}
                    <div id="comments_message_${i['sakai:id']}" class="comments_message">
                        <p>${i.message}</p>
                    </div>
                    <div id="comments_message_editContainer_${i['sakai:id']}" style="display:none;">
                        <textarea class="comments_txtMessage" id="comments_editComment_txt_${i['sakai:id']}" rows="7" cols="50">${i.messageTxt}</textarea><br />
                        <div class="dialog_buttons right">
                            <button type="button" class="s3d-button s3d-button-primary comments_editComment_save" id="comments_editComment_save${i['sakai:id']}"><span class="s3d-button-inner">__MSG__EDIT_COMMENT__</span></button>
                            <button type="button" class="s3d-button comments_editComment_cancel" id="comments_editComment_cancel${i['sakai:id']}"><span class="s3d-button-inner">__MSG__CANCEL__</span></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {forelse}
            {if sakai.data.me.user.anon}
                <div class="comments_noComments">__MSG__THERE_ARE_NO_COMMENTS__</div>
            {/if}
        {/for}
    </div>

    </div>
    --></div>
    <div class="comments_nextButtons">
        <button type="button" class="s3d-button" id="comments_prevPage"><span class="s3d-button-inner">__MSG__PREVIOUS_PAGE__</span></button><br />
        <div class="jq_pager comments_jqpager" style="display:none;"><!-- In this container the pager will be shown (bottom) --></div>
    </div>
</div>

<!-- SETTINGS VIEW -->
<div id="comments_settings" class="fl-widget-content s3d-widget-content" style="display:none;">
    <form class="comments_form">
        <div class="comments_settingsPart">
            <h3>__MSG__DISPLAY__:</h3>
            <ul>
                <li>
                    <label for="comments_PerPageID" class="video_source_rbtLabel">__MSG__DISPLAY__ <input type="text" id="comments_txtPage" />
                    __MSG__COMMENT_AT_A_TIME__.</label></input><br />
                </li>
                <li>&nbsp;</li>
                <li>
                    <input type="radio" name="comments_ChooseDirectionComments" value="comments_FirstUp" id="comments_FirstUpID" checked="checked">
                        <label for="comments_FirstUpID" class="video_source_rbtLabel">__MSG__LATEST_COMMENT_IS_AT THE_TOP_OF_THE_COMMENT_LIST__</label>
                    </input>
                </li>
                <li>
                    <input type="radio" name="comments_ChooseDirectionComments" value="comments_FirstDown" id="comments_FirstDownID">
                        <label for="comments_FirstDownID" class="video_source_rbtLabel">__MSG__LATEST_COMMENT_IS_AT THE_BOTTOM_OF_THE_COMMENT_LIST__</label>
                    </input>
                </li>
            </ul>

        </div>
        <div class="comments_settingsPart">
            <h3>__MSG__PERMISSIONS__:</h3>
            <ul>
                <li><input type="radio" name="comments_ChoosePermissionComments" value="comments_RequireLogIn" id="comments_RequireLogInID" Name="comments_RequireLogIn">
                <label for="comments_RequireLogInID" class="video_source_rbtLabel"> __MSG__ONLY_REGISTERED_USERS_CAN_COMMENT__</label></input><br /></li>
                <li>
                    <input type="radio" name="comments_ChoosePermissionComments" value="comments_DontRequireLogin" id="comments_DontRequireLoginID" Name="comments_DontRequireLogin"  checked="checked">
                        <label for="comments_DontRequireLoginID" class="video_source_rbtLabel">__MSG__ALLOW_ANYONE_TO_COMMENT__</label>
                    </input>
                </li>
                <li>
                    <ul>
                        <li>
                            <input type="checkbox" id="comments_Namerequired">
                                <label for="comments_Namerequired" class="video_source_rbtLabel">__MSG__COMMENTS_REQUIRE_NAME__</label>
                            </input>
                        </li>
                        <li>
                            <input type="checkbox" id="comments_Emailrequired">
                                <label for="comments_Emailrequired" class="video_source_rbtLabel" >__MSG__COMMENTS_REQUIRE_EMAIL__</label>
                            </input>
                        </li>
                    </ul>
                </li>
            </ul>
            <br />
        </div>

        <div class="comments_settingsPart">
            <h3>__MSG__NOTIFICATION__:</h3>
            <ul><li><input type="checkbox" id="comments_SendMail"><label for="comments_SendMail" class="video_source_rbtLabel"> __MSG__EMAIL_ME_WHEN_THERE_IS_A_NEW_COMMENT__</label></input></li></ul>
        </div>

        <div class="dialog_buttons right">
            <button type="button" class="s3d-button s3d-button-primary" id="comments_submit"><span class="s3d-button-inner">__MSG__SAVE__</span></button>
            <button type="button" class="s3d-button" id="comments_cancel"><span class="s3d-button-inner">__MSG__CANCEL__</span></button>
        </div>
    </form>
</div>
<!-- WIDGET FOOTER-->
<div class="s3d-widget-no-options"><div class="s3d-widget-no-options-inner"><!-- --></div></div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/devwidgets/contentcomments/javascript/contentcomments.js"></script>