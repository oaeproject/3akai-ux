<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/pickeruser/css/pickeruser.css" />

<!-- MAIN VIEW -->
<div id="pickeruser_container" style="display:none" class="dialog">

    <div id="pickeruser_container_header" class="dialog_header">
        <div class="dialog_header_inner">
            <h1>__MSG__ADDING_PEOPLE__</h1>
            <a href="javascript:;" class="jqmClose dialog_close_image" title="Close Dialog">Close Dialog</a>
        </div>
    </div>
    <div id="pickeruser_container_search" class="dialog_content">
        <div id="pickeruser_basic">
			<span class="fl-force-left" id="pickeruser_add_header">Adding Managers to Biology 101</span>
			<span class="fl-force-left">Type the name of the person/group</span>
            <span class="fl-force-left" id="pickeruser_form_container">
            	<input name="pickeruser_search_query" id="pickeruser_search_query" type="text" autocomplete="off"/>
            </span>
			<div id="pickeruser_send_message" class="fl-force-left">
				<span class="fl-force-left">Send a personal message</span>
				<span class="fl-force-left">
					<textarea id="pickeruser_message"></textarea>
				</span>
				<span class="fl-force-left">
					<input type="checkbox" name="pickeruser_copy_myself" id="pickeruser_copy_myself"/>
					<label for="pickeruser_copy_myself">Send a copy to myself</label>
				</span>
			</div>
        </div>
		<div id="pickeruser_search"  style="display:none">
	        <div id="pickeruser_content">
		        <span class="fl-force-right">
	                <select id="pickeruser_sort_on">
	                    <option default="true" value="lastNameAsc">Last name A-Z</option>
	                    <option value="lastNameDesc">Last name Z-A</option>
	                    <option value="firstNameAsc">First name A-Z</option>
	                    <option value="firstNameDesc">First name Z-A</option>
	                </select>
	            </span>
	            <div id="pickeruser_content_list"></div>
	            <div id="pickeruser_content_search"></div>
	        </div>

	        <div id="pickeruser_footer">
	            <div id="pickeruser_footer_select">
	            <span class="fl-force-left">
	                <span id="pickeruser_count" style="display: none;">0</span>
	                <span id="pickeruser_count_person" style="display: none;"> person</span>
	                <span id="pickeruser_count_people" style="display: none;"> people</span>
	                <span id="pickeruser_count_of" style="display: none;"> out of</span>
	                <span id="pickeruser_count_thousands" style="display: none;"> thousands</span>
	                </span>
	                <button type="button" class="s3d-button fl-force-right" id="pickeruser_select_all_button">
	                    <span class="s3d-button-inner">Select All</span>
	                </button>
	            </div>
	            
	        </div>
		</div>
		
		<div id="pickeruser_footer_options">
            <button type="button" class="s3d-button" id="pickeruser_close_button">
                <span class="s3d-button-inner">Cancel</span>
            </button>
            <button type="button" class="s3d-button s3d-button-primary fl-force-right" id="pickeruser_add_button">
                <span class="s3d-button-inner">Add to <span id="pickeruser_space_name">Space</span></span>
            </button>
        </div>

        <div id="pickeruser_content_search_pagedefault">

            <div id="pickeruser_content_search_listtemplate"><!--
                <ul id="pickeruser_list" class="pickeruser_page">
                {for p in people}
                    <li id="${p.id}" dataid="${p.id}">
                        <span class="pickeruser_list_name">${p.name}</span>
                    </li>
                {/for}
                </ul>
            --></div>

            <div id="pickeruser_content_search_pagetemplate" style="display:none;"><!--
                {for i in results}
                <li data-userid="${i['rep:userId']}" id="${i['rep:userId']}">
                    {if i.picture}
                        <img src="/~${i["rep:userId"]}/public/profile/${i.picture.name}" alt="Profile picture for ${i.firstName} ${i.lastName}" class="pickeruser_ppicture"/>
                    {else}
                        <img src="/dev/_images/person_icon.jpg" alt="Default profile picture" class="pickeruser_ppicture"/>
                    {/if}
                    <a class="pickeruser_name" href="/dev/profile.html?user=${i['rep:userId']}">${sakai.api.User.getDisplayName(i)}</a>
                    <br />
                    <span class="pickeruser_subnameinfo">${i.subNameInfo}</span>
                </li>
                {/for}
            --></div>
        </div>

        <div id="pickeruser_error_template" style="display:none;">
            <span>Sorry, could not retrieve the list of users form the server!</span>
        </div>
    </div>
</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/devwidgets/pickeruser/javascript/pickeruser.js"></script>
