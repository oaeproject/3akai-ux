<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/lhnavigation/css/lhnavigation.css" />
<link rel="stylesheet" type="text/css" href="/devwidgets/lhnavigation/css/sitespages.css"></link>


<div id="lhav_buttonbar" style="display:none">
    <div style="float:left">
        <button type="button" class="s3d-button s3d-button-link-2-state" id="lhnav_editpage">
            <span class="s3d-button-inner s3d-button-link-2-state-inner" style="color:#4b6b80; font-size: 9px;">Edit Page</span>
        </button>
        <button type="button" class="s3d-button s3d-button-link-2-state" id="lhnav_addpage">
            <span class="s3d-button-inner s3d-button-link-2-state-inner" style="color:#4b6b80; font-size: 9px;">Add Page</span>
        </button>
    </div>
    <div style="float:right">
        <button type="button" class="s3d-button s3d-button-link-2-state" id="lhnav_revisions">
            <span class="s3d-button-inner s3d-button-link-2-state-inner" style="color:#4b6b80; font-size: 9px;">Page Revisions</span>
        </button>
        <!-- <button type="button" class="s3d-button s3d-button-link-2-state" id="lhnav_commentsrelated">
            <span class="s3d-button-inner s3d-button-link-2-state-inner" style="color:#4b6b80; font-size: 9px;">See comments and related</span>
        </button> -->
    </div>
    <div style="clear:both;"><!-- --></div>
</div>
<div id="lhnav_editmode" style="display:none">
    <!-- WORK AREA -->
    <div class="edit_view" id="edit_view_container">

        <div class="main_container content_container">
                                <!--//desNote: row of buttons need to coexist horizontally with tabs,hence the //-->
                <div id="edit_page_action_buttons_template"><!--
                    <button class="s3d-button s3d-button-primary save_button"><span class="s3d-button-inner">__MSG__SAVE__</span></button>
                    <button class="s3d-button cancel-button"><span class="s3d-button-inner">__MSG__DONT_SAVE__</span></button>
                    <span class="messageInformation" id="messageInformation" style="display:none">__MSG__AUTO_SAVED_AT__ <span id="realtime"></span></span>
                --></div>

                <!-- TAB CONTENT -->
                <div class="fl-centered fl-container fl-tab-content edit_container">

                    <!-- TOP BORDER -->
                    <div class="content_top"><div class="content_top_inner"><!-- --></div></div>

                    <div class="">
                        
                        <div id="page_save_options_bottom" class="fl-force-right">
                            <button id="lhnav_edit_cancel_button" class="s3d-link-button">__MSG__DONT_SAVE__</button>
                            <button id="lhnav_edit_save_button" class="s3d-button s3d-button-link-2-state"><span class="s3d-button-inner s3d-button-link-2-state-inner">__MSG__SAVE__</span></button>
                        </div>
                        
                        <!-- <ul class="fl-tabs fl-tabs-left"> -->

                            <!-- INSERT DROPDOWN MENU -->
                            <span class="s3d-button s3d-button-inline" id="sitepages_insert_dropdown_button">
                                <span class="s3d-button-inner">
                                    <span class=""></span>
                                    <span class="s3d-button-inner-text" id="sitepages_insert_dropdown_button_inner">__MSG__INSERT__</span>
                                    <span class="s3d-button-icon-right"></span>
                                </span>
                            </span>
                            <div id="sitepages_insert_dropdown_container"></div>

                        <!-- </ul> -->
                        
                        
                        <div style="clear:both"><!-- --></div>
                        
                        <!--<ul class="fl-tabs fl-tabs-right">
                            <li id="tab_text_editor"><button class="s3d-button s3d-button-link-2-state"><span class="s3d-button-inner s3d-button-link-2-state-inner">__MSG__TEXT_EDITOR__</span></button></li>
                            <li id="tab_html"><button class="s3d-button s3d-button-link-2-state"><span class="s3d-button-inner s3d-button-link-2-state-inner">__MSG__HTML__</span></button></li>
                            <li id="tab_preview"><button class="s3d-button s3d-button-link-2-state"><span class="s3d-button-inner s3d-button-link-2-state-inner">__MSG__PREVIEW__</span></button></li>
                        </ul> -->
                    </div>

                    <!-- EDIT CONTENTS -->
                    <div class="edit_contents_main">

                        <div id="fl-tab-content-editor">
                            <div id="placeholderforeditor" class="textarea">

                                <!-- Gets replaced with TinyMCE, remember HTML in a textarea should be encoded -->
                                <textarea id="elm1" name="elm1" style="width: 100%; height:430px">
                                    &nbsp;
                                </textarea>
                            </div>
                        </div>

                        <div id="html-editor" style="display:none;">
                            <textarea id="html-editor-content" rows="20" wrap="hard"></textarea>
                        </div>

                        <div class="content_container fl-fix" id="page_preview_content" style="display:none;"></div>

                        <div id="page_save_options_bottom" class="fl-force-right">
                            <button id="lhnav_edit_cancel_button" class="s3d-link-button">__MSG__DONT_SAVE__</button>
                            <button id="lhnav_edit_save_button" class="s3d-button s3d-button-link-2-state"><span class="s3d-button-inner s3d-button-link-2-state-inner">__MSG__SAVE__</span></button>
                        </div>
                        <div style="clear:both"><!-- --></div>

                </div> <!-- end TAB CONTENT -->

            </div> <!-- end main_container content_container -->

        </div> <!-- end WORK AREA -->
        </div>
</div>

<!-- INSERT DIALOG -->
<div id="insert_dialog" class="dialog">
    <!-- DIALOG HEADER -->
    <div class="dialog_header">
        <div class="dialog_header_inner">
            <h1 id="dialog_title"></h1>
            <button type="button" class="jqmClose dialog_close_image s3d-link-button" title="__MSG__CLOSE_DIALOG__">__MSG__CLOSE_DIALOG__</button>
        </div>
    </div>
    <!-- DIALOG CONTENT -->
    <div id="dialog_content" class="dialog_content"></div>
    <!-- DIALOG FOOTER -->
    <div class="dialog_footer">
        <div class="dialog_footer_inner"><!-- --></div>
    </div>
</div>

<!-- INSERT MORE DROPDOWN MENU -->
<div id="sitepages_insert_dropdown_template" style="display:none"><!--
    <div class="s3d-sprites-buttons" id="sitepages_insert_dropdown" style="display:none;">
        <ul>
            <li><button id="link" class="insert_dropdown_widget_link s3d-link-button s3d-action">__MSG__PAGE_LINK__</button></li>
            <li><button id="hr" class="insert_dropdown_widget_link s3d-link-button s3d-action">__MSG__HORIZONTAL_LINE__</button></li>
            <li class="sitepages_insert_dropdown_header"><span>__MSG__MEDIA__:</span></li>
            <li id="sitespages_embed_content_button"><button class="insert_dropdown_widget_link s3d-link-button s3d-action" id="embedcontent">__MSG__FILES_AND_DOCUMENTS__</button></li>
            {for i in media.items}
                <li><button id="${i.id}" class="insert_dropdown_widget_link s3d-link-button s3d-action">${i.name}</button></li>
            {/for}
            <li class="sitepages_insert_dropdown_header"><span>__MSG__SAKAI_GOODIES__:</span></li>
            {for ii in goodies.items}
                <li><button id="${ii.id}" class="insert_dropdown_widget_link s3d-link-button s3d-action">${ii.name}</button></li>
            {/for}
            <li class="sitepages_insert_dropdown_header"><span>(__MSG__MORE_COMING_SOON__)</span></li>
        </ul>
    </div>
--></div>

<div id="lhnavigation_container"></div>
<div id="lhnavigation_template"><!--
    <div id="lhnavigation_actions" style="display:none">
        <button type="button" class="s3d-button s3d-button-link-2-state" id="entity_user_create_and_add">
            <span class="s3d-button-inner s3d-button-link-2-state-inner">__MSG__DELETE_PAGE__</span>
        </button>
        <button type="button" class="s3d-button s3d-button-link-2-state" id="entity_user_create_and_add">
            <span class="s3d-button-inner s3d-button-link-2-state-inner">__MSG__ADD_PAGE__</span>
        </button>
    </div>
    <ul id="lhnavigation_private_pages" class="lhnavigation_menu_list">
        {for level in private.orderedItems}
            {if level._childCount > 1}
                <li class="lhnavigation_hoverable_item lhnavigation_hassubnav" data-sakai-ref="${level._ref}" data-sakai-path="${level._id}">
            <div class="lhnavigation_has_subnav"></div>
                <span class="s3d-bold lhnavigation_toplevel">{if contextData.altTitle}${level._altTitle}{else}${level._title}{/if}</span> <span class="s3d-bold" id="lhnavigation_message_count "></span>
            <div class="lhnavigation_private"></div>
            <div class="lhnavigation_selected_item_arrow" style="visibility:hidden;"></div>
            </li>
            <ul class="lhnavigation_subnav" style="display:none;">
                {var index = 0;}
                {for sublevel in level._elements}
                    {if sublevel._id.substring(0,1) !== "_" && sublevel._title}
                        {if index != 0}<hr class="s3d-split-line"/>{/if}
                        <li class="lhnavigation_hoverable_item" data-sakai-ref="${sublevel._ref}" data-sakai-savepath="${contextData.privurl}" data-sakai-path="${level._id}/${sublevel._id}">
                            <a href="#l=${level._id}/${sublevel._id}" data-reset-hash="true" title="${sublevel._title}" class="s3d-regular-links">
                                {if contextData.altTitle}${sublevel._altTitle}{else}${sublevel._title}{/if}
                                {if sublevel._count} (${sublevel._count}){/if}
                            </a><div style="visibility: hidden;" class="lhnavigation_selected_item_arrow lhnavigation_selected_item_arrow_sub"></div>
                        </li>
                        {var index = index + 1}
                    {/if}
                {/for}
            </ul>
            {else}
                <li class="lhnavigation_hoverable_item" data-sakai-ref="${level._ref}" data-sakai-savepath="${contextData.privurl}" data-sakai-path="${level._id}">
                    <a href="#l=${level._id}" class="s3d-bold lhnavigation_toplevel" data-reset-hash="true">
                        {if contextData.altTitle}${level._altTitle}{else}${level._title}{/if}
                        {if level._count} (${level._count}){/if}
                    </a>
                    <div class="lhnavigation_private"></div>
                    <div class="lhnavigation_selected_item_arrow" style="visibility:hidden;"></div>
                </li>
            {/if}
        {/for}
    </ul>
    <ul id="lhnavigation_public_pages" class="lhnavigation_menu_list">  
        {for level in public.orderedItems}
            {if level._childCount > 1}
                <li class="lhnavigation_hoverable_item lhnavigation_hassubnav" data-sakai-ref="${level._ref}" data-sakai-path="${level._id}">
            <div class="lhnavigation_has_subnav"></div>
                <span class="s3d-bold lhnavigation_toplevel">{if contextData.altTitle}${level._altTitle}{else}${level._title}{/if}</span> <span class="s3d-bold" id="lhnavigation_message_count "></span>
            <div class="lhnavigation_selected_submenu" style="display:none;"><img src="/dev/images/lefthandnav_options.png"/></div>
            <div class="lhnavigation_selected_item_arrow" style="visibility:hidden;"></div>
            </li>
            <ul class="lhnavigation_subnav" style="display:none;">
                {var index = 0}
                {for sublevel in level._elements}
                    {if sublevel._id.substring(0,1) !== "_" && sublevel._title}
                        {if index != 0}<hr class="s3d-split-line"/>{/if}
                        <li class="lhnavigation_hoverable_item" data-sakai-ref="${sublevel._ref}" data-sakai-savepath="${contextData.puburl}" data-sakai-path="${level._id}/${sublevel._id}">
                            <a href="#l=${level._id}/${sublevel._id}" title="${sublevel._title}" class="s3d-regular-links" data-reset-hash="true">
                                {if contextData.altTitle}${sublevel._altTitle}{else}${sublevel._title}{/if}
                                {if sublevel._count} (${sublevel._count}){/if}
                            </a>
                            <div class="lhnavigation_selected_submenu" style="display:none;"><img src="/dev/images/lefthandnav_options.png"/></div>
                            <div style="visibility: hidden;" class="lhnavigation_selected_item_arrow lhnavigation_selected_item_arrow_sub"></div>
                        </li>
                        {var index = index + 1}
                    {/if}
                {/for}
            </ul>
            {else}
                <li class="lhnavigation_hoverable_item" data-sakai-ref="${level._ref}" data-sakai-savepath="${contextData.puburl}" data-sakai-path="${level._id}">
                    <a href="#l=${level._id}" class="s3d-bold lhnavigation_toplevel" data-reset-hash="true">
                        {if contextData.altTitle}${level._altTitle}{else}${level._title}{/if}
                        {if level._count} (${level._count}){/if}
                    </a>
                    <input class="lhnavigation_change_title" type="text" style="display:none;"/>
                    <div class="lhnavigation_selected_submenu" style="display:none;"><img src="/dev/images/lefthandnav_options.png"/></div>
                    <div class="lhnavigation_selected_item_arrow" style="visibility:hidden;"></div>
                </li>
            {/if}
        {/for}
    </ul>
--></div>

<div style="display:none;" id="lhnavigation_submenu">
    <ul>
        <li><a href="javascript:;" id="lhavigation_submenu_edittitle">Change Name</a></li>
        <li><a href="javascript:;" id="lhavigation_submenu_deletepage">Delete Page</a></li>
    </ul>
</div>

<!-- WRAPPING DIALOG -->
<div id="wrapping_dialog" class="dialog" style="width:400px; margin-left: -200px">
    <div class="dialog_header">
        <div class="dialog_header_inner">
        <h1>__MSG__APPEARANCE__</h1>
        <button type="button" class="jqmClose dialog_close_image s3d-link-button" title="__MSG__CLOSE_DIALOG__">__MSG__CLOSE_DIALOG__</button>
        </div>
    </div>

    <div class="dialog_content">

        <h3 style="margin-top:0px">__MSG__WRAPPING_SELECT__</h3>

        <ul style="margin-left:1em">
            <li style="list-style-type:none; padding-l"><button type="button" id="wrapping_no" class="s3d-link-button s3d-bold">__MSG__WRAPPING_NONE__</button></li>
            <li style="list-style-type:none"><button type="button" id="wrapping_left" class="s3d-link-button s3d-bold">__MSG__WRAPPING_LEFT__</button></li>
            <li style="list-style-type:none"><button type="button" id="wrapping_right" class="s3d-link-button s3d-bold">__MSG__WRAPPING_RIGHT__</button></li>
        </ul>

        <div class="dialog_buttons">
            <button type="button" class="s3d-button jqmClose"><span class="s3d-button-inner">__MSG__CANCEL__</span></button>
        </div>
    </div>

    <!-- DIALOG FOOTER -->
    <div class="dialog_footer">
        <div class="dialog_footer_inner"><!-- --></div>
    </div>
</div>

<div class="s3d-sprites-buttons" id="context_menu" style="display:none">
    <button class="s3d-button s3d-button-inline" id="more_link">
        <span class="s3d-button-inner"><span class="s3d-button-icon-left"></span><span class="s3d-button-inner-text">__MSG__WIDGET_OPTIONS__</span><span class="s3d-button-icon-right"></span></span>
    </button>
    <div class="context_more">
        <ul>
            <li id="context_settings" class="more_option">
                <button type="button" class="s3d-action s3d-link-button">__MSG__SETTINGS__</button>
            </li>
            <li id="context_remove" class="more_option">
                <button type="button" class="s3d-action s3d-link-button">__MSG__REMOVE__</button>
            </li>
            <li id="context_appearance_trigger" class="more_option option_last">
                <button type="button" class="s3d-action s3d-link-button">__MSG__WRAPPING__</button>
            </li>
        </ul>
    </div>
</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/devwidgets/lhnavigation/javascript/lhnavigation.js"></script>