<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/lhnavigation/css/lhnavigation.css" />
<link rel="stylesheet" type="text/css" href="/devwidgets/lhnavigation/css/sitespages.css"></link>

<div id="lhnavigation_container"></div>
<div id="lhnavigation_template"><!--
    <div id="lhnavigation_actions" style="display:none">
        <button type="button" class="s3d-button s3d-button-link-2-state" id="entity_user_create_and_add">
            <span class="s3d-button-inner s3d-button-link-2-state-inner">__MSG__ADD_PAGE__</span>
        </button>
    </div>
    <ul id="lhnavigation_private_pages" class="lhnavigation_menu_list">
        {for level in private.orderedItems}
            {if level._childCount > 1}
                <li class="lhnavigation_hoverable_item lhnavigation_hassubnav" data-sakai-ref="${level._ref}" data-sakai-path="${level._id}">
            <div class="lhnavigation_has_subnav"></div>
                <span class="s3d-bold lhnavigation_toplevel">{if contextData.altTitle}${level._altTitle}{else}${level._title}{/if}</span> <span class="s3d-bold" id="lhnavigation_message_count "></span>
            <div class="lhnavigation_private"></div>
            <div class="lhnavigation_selected_item_arrow" style="visibility:hidden;"></div>
            </li>
            <ul class="lhnavigation_subnav" style="display:none;">
                {var index = 0;}
                {for sublevel in level._elements}
                    {if sublevel._id.substring(0,1) !== "_" && sublevel._title}
                        {if index != 0}<hr class="s3d-split-line"/>{/if}
                        <li class="lhnavigation_hoverable_item" data-sakai-ref="${sublevel._ref}" data-sakai-savepath="${contextData.privurl}" data-sakai-path="${level._id}/${sublevel._id}">
                            <a href="#l=${level._id}/${sublevel._id}" data-reset-hash="true" title="${sublevel._title}" class="s3d-regular-links">
                                {if contextData.altTitle}${sublevel._altTitle}{else}${sublevel._title}{/if}
                                {if sublevel._count} (${sublevel._count}){/if}
                            </a><div style="visibility: hidden;" class="lhnavigation_selected_item_arrow lhnavigation_selected_item_arrow_sub"></div>
                        </li>
                        {var index = index + 1}
                    {/if}
                {/for}
            </ul>
            {else}
                <li class="lhnavigation_hoverable_item" data-sakai-ref="${level._ref}" data-sakai-savepath="${contextData.privurl}" data-sakai-path="${level._id}">
                    <a href="#l=${level._id}" class="s3d-bold lhnavigation_toplevel" data-reset-hash="true">
                        {if contextData.altTitle}${level._altTitle}{else}${level._title}{/if}
                        {if level._count} (${level._count}){/if}
                    </a>
                    <div class="lhnavigation_private"></div>
                    <div class="lhnavigation_selected_item_arrow" style="visibility:hidden;"></div>
                </li>
            {/if}
        {/for}
    </ul>
    <ul id="lhnavigation_public_pages" class="lhnavigation_menu_list">  
        {for level in public.orderedItems}
            {if level._childCount > 1}
                <li class="lhnavigation_hoverable_item lhnavigation_hassubnav" data-sakai-ref="${level._ref}" data-sakai-path="${level._id}">
            <div class="lhnavigation_has_subnav"></div>
                <span class="s3d-bold lhnavigation_toplevel">{if contextData.altTitle}${level._altTitle}{else}${level._title}{/if}</span> <span class="s3d-bold" id="lhnavigation_message_count "></span>
            <div class="lhnavigation_selected_submenu" style="display:none;"><img src="/dev/images/lefthandnav_options.png"/></div>
            <div class="lhnavigation_selected_item_arrow" style="visibility:hidden;"></div>
            </li>
            <ul class="lhnavigation_subnav" style="display:none;">
                {var index = 0}
                {for sublevel in level._elements}
                    {if sublevel._id.substring(0,1) !== "_" && sublevel._title}
                        {if index != 0}<hr class="s3d-split-line"/>{/if}
                        <li class="lhnavigation_hoverable_item" data-sakai-ref="${sublevel._ref}" data-sakai-savepath="${contextData.puburl}" data-sakai-path="${level._id}/${sublevel._id}">
                            <a href="#l=${level._id}/${sublevel._id}" title="${sublevel._title}" class="s3d-regular-links" data-reset-hash="true">
                                {if contextData.altTitle}${sublevel._altTitle}{else}${sublevel._title}{/if}
                                {if sublevel._count} (${sublevel._count}){/if}
                            </a>
                            <div class="lhnavigation_selected_submenu" style="display:none;"><img src="/dev/images/lefthandnav_options.png"/></div>
                            <div style="visibility: hidden;" class="lhnavigation_selected_item_arrow lhnavigation_selected_item_arrow_sub"></div>
                        </li>
                        {var index = index + 1}
                    {/if}
                {/for}
            </ul>
            {else}
                <li class="lhnavigation_hoverable_item" data-sakai-ref="${level._ref}" data-sakai-savepath="${contextData.puburl}" data-sakai-path="${level._id}">
                    <a href="#l=${level._id}" class="s3d-bold lhnavigation_toplevel" data-reset-hash="true">
                        {if contextData.altTitle}${level._altTitle}{else}${level._title}{/if}
                        {if level._count} (${level._count}){/if}
                    </a>
                    <input class="lhnavigation_change_title" type="text" style="display:none;"/>
                    <div class="lhnavigation_selected_submenu" style="display:none;"><img src="/dev/images/lefthandnav_options.png"/></div>
                    <div class="lhnavigation_selected_item_arrow" style="visibility:hidden;"></div>
                </li>
            {/if}
        {/for}
    </ul>
--></div>

<div style="display:none;" id="lhnavigation_submenu">
    <ul>
        <li><a href="javascript:;" id="lhavigation_submenu_edittitle">Change Name</a></li>
        <li><a href="javascript:;" id="lhavigation_submenu_deletepage">Delete Page</a></li>
    </ul>
</div>


<!-- JAVASCRIPT -->
<script type="text/javascript" src="/devwidgets/lhnavigation/javascript/lhnavigation.js"></script>