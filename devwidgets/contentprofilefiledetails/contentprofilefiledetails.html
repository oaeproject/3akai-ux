<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/contentprofilefiledetails/css/contentprofilefiledetails.css" />

<div id="content_profile_file_details_container" class="s3d-main-container" style="display:none;">&nbsp;</div>

<div id="content_profile_file_details_template"><!--
    <div id="content_profile_file_details_details" class="s3d-highlight_area_background">
        <h4 class="content_profile_file_details_form_section_header">{if data["jcr:content"]["jcr:mimeType"] === "x-sakai/link"}__MSG__LINK_DETAILS__{else}__MSG__FILE_DETAILS__{/if}</h4>
        <div id="content_profile_file_details_details_firstcolumn">
            <div id="content_profile_file_details_basic_info">
                {if data["jcr:content"]["jcr:mimeType"] === "x-sakai/link"}
                    <p class="content_profile_file_details_file_name_threedots"><a href="${data["sakai:pooled-content-revurl"]}" title="${data["sakai:pooled-content-file-name"]}" class="s3d-action threedots ellipsis_text">${data["sakai:pooled-content-file-name"]}</a></p>
                {else}
                    <p class="content_profile_file_details_file_name_threedots"><span class="threedots ellipsis_text">${data["sakai:pooled-content-file-name"]}</span></p>
                {/if}
                {if data["jcr:content"]["jcr:mimeType"] !== "x-sakai/link"}
                    <p>${data["jcr:content"]["jcr:mimeType"]}</p>
                    <p>${filesize}</p>
                {/if}
            </div>
            <div id="content_profile_file_details_titles">
                <p class="content_profile_file_details_title">__MSG__FIRST_CREATED__:</p>
                <p class="content_profile_file_details_title">__MSG__LAST_MODIFIED__:</p>
                <p class="content_profile_file_details_title">__MSG__NO_OF_REVISIONS__:</p>
            </div>
        </div>
        <div id="content_profile_file_details_details_secondcolumn">
            <p><span class="content_profile_file_details_content">${created}{if data["sakai:pool-content-created-for-full"]} by <a href="/~${data["sakai:pool-content-created-for"]}" class="s3d-action">${data["sakai:pool-content-created-for-full"]}</a>{/if}</span></p>
            <p><span class="content_profile_file_details_content">${lastModified}{if data["sakai:pool-content-created-for-full"]} by <a href="/~${data["sakai:pool-content-created-for"]}" class="s3d-action">${data["sakai:pool-content-created-for-full"]}<a/>{/if}</span></p>
            <p><span class="content_profile_file_details_content">{if revisions.length -1 <= 0}No revisions{else}${revisions.length -1} <a href="javascript:;" id="content_profile_details_view_revisions" {if data["jcr:content"]["jcr:mimeType"] === "x-sakai/link"}class="link_revision s3d-action"{else}class="s3d-action"{/if}>__MSG__VIEW_REVISIONS__</a>{/if}</span></p>
            <hr class="fl-push fl-hidden"/>
        </div>
    </div>
        <div id="content_profile_file_details_actions">
            {if !anon}
                <button type="button" class="s3d-button s3d-button-primary" id="content_profile_file_details_action_delete">
                    <span class="s3d-button-inner">{if data["jcr:content"]["jcr:mimeType"] === "x-sakai/link"}__MSG__DELETE_LINK__{else}__MSG__DELETE_FILE__{/if}</span>
                </button>
            {/if}
            {if !anon}
                <button type="button" {if data["jcr:content"]["jcr:mimeType"] === "x-sakai/link"}class="s3d-button s3d-button-primary new_version new_link"{else}class="s3d-button s3d-button-primary new_version"{/if} id="upload_content">
                    <span class="s3d-button-inner">__MSG__UPLOAD_NEW_VERSION__</span>
                </button>
            {/if}
            {if data["jcr:content"]["jcr:mimeType"] !== "x-sakai/link"}
                <a href="${url}/${data["sakai:pooled-content-file-name"]}{if data["sakai:pooled-content-file-name"].substring(data["sakai:pooled-content-file-name"].lastIndexOf("."), data["sakai:pooled-content-file-name"].length) !== data["sakai:fileextension"]}${data["sakai:fileextension"]}{/if}" id="content_profile_file_details_action_download" class="s3d-button s3d-button-primary" target="_blank">
                    <span class="s3d-button-inner">
                        __MSG__DOWNLOAD_FILE__
                    </span>
                </a>
            {else}
                <a href="${data["sakai:pooled-content-revurl"]}" id="content_profile_file_details_action_download" class="s3d-button s3d-button-primary" target="_blank">
                    <span class="s3d-button-inner">
                        __MSG__OPEN_THIS_LINK__
                    </span>
                </a>
            {/if}
            <hr class="fl-push fl-hidden"/>
        </div>
--></div>

<div id="contentprofiledetails_notifications" style="display:none">
    <span id="contentprofiledetails_failed_loading_data">__MSG__FAILED_LOADING_DATA__</span>
    <span id="contentprofiledetails_failed_loading_revisions">__MSG__FAILED_LOADING_REVISIONS__</span>
    <span id="contentprofiledetails_failed_to_load_file_info">__MSG__FAILED_TO_LOAD_FILE_INFORMATION__</span>
    <span id="contentprofiledetails_failed_to_load_revisions">__MSG__FAILED_TO_LOAD_REVISION_INFORMATION__</span>
</div>
<!-- JAVASCRIPT -->
<script type="text/javascript" src="/devwidgets/contentprofilefiledetails/javascript/contentprofilefiledetails.js"></script>