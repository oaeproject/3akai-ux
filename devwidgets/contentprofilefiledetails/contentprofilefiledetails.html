<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/contentprofilefiledetails/css/contentprofilefiledetails.css" />

<div id="content_profile_file_details_container" style="display:none;"></div>

<div id="content_profile_file_details_template"><!--
    <div id="content_profile_file_details_details">
        <h4 class="content_profile_file_details_form_section_header">{if data["jcr:content"]["jcr:mimeType"] === "x-sakai/link"}__MSG__LINK_DETAILS__{else}__MSG__FILE_DETAILS__{/if}</h4>
        <div id="content_profile_file_details_details_firstcolumn">
            <div id="content_profile_file_details_basic_info">
                {if data["jcr:content"]["jcr:mimeType"] === "x-sakai/link"}
                    <p><a href="${data["sakai:pooled-content-revurl"]}" title="${data["sakai:pooled-content-file-name"]}" class="s3d-action">${data["sakai:pooled-content-file-name"]}</a></p>
                {else}
                <p>${data["sakai:pooled-content-file-name"]}</p>
                {/if}
                <p>${data["jcr:content"]["jcr:mimeType"]}</p>
                <p>${filesize}</p>
            </div>
            <div id="content_profile_file_details_titles">
                <span class="content_profile_file_details_title">__MSG__FIRST_CREATED__:</span>
                <br/>
                <span class="content_profile_file_details_title">__MSG__LAST_MODIFIED__:</span>
                <br/>
                <span class="content_profile_file_details_title">__MSG__NO_OF_REVISIONS__:</span>
            </div>
        </div>
        <div id="content_profile_file_details_details_secondcolumn">
            <p><span class="content_profile_file_details_content">${created} by <a href="/~${data["sakai:pool-content-created-for"]}" class="s3d-action">${data["sakai:pool-content-created-for-full"]}</a></span></p>
            <p><span class="content_profile_file_details_content">${lastModified} by <a href="/~${data["sakai:pool-content-created-for"]}" class="s3d-action">${data["sakai:pool-content-created-for-full"]}<a/></span></p>
            <p><span class="content_profile_file_details_content">{if revisions.length -1 === 0}No revisions{else}${revisions.length -1} <a href="javascript:;" id="content_profile_details_view_revisions" {if data["jcr:content"]["jcr:mimeType"] === "x-sakai/link"}class="link_revision s3d-action"{else}class="s3d-action"{/if}>__MSG__VIEW_REVISIONS__</a>{/if}</span></p>
            <hr/>
        </div>
    </div>
        <div {if data["jcr:content"]["jcr:mimeType"] === "x-sakai/link" && anon} id="content_profile_file_details_actions_anonlink" {else} id="content_profile_file_details_actions" {/if}>
            {if !anon}
                <button type="button" {if data["jcr:content"]["jcr:mimeType"] === "x-sakai/link"}class="s3d-button s3d-button-primary new_version new_link"{else}class="s3d-button s3d-button-primary new_version"{/if} id="upload_content">
                    <span class="s3d-button-inner">__MSG__UPLOAD_NEW_VERSION__</span>
                </button>
            {/if}
            {if data["jcr:content"]["jcr:mimeType"] !== "x-sakai/link"}
                <button type="button" class="s3d-button s3d-button-primary" id="content_profile_file_details_action_download">
                    <a class="s3d-button-inner" href="${url}/${data["sakai:pooled-content-file-name"]}">__MSG__DOWNLOAD_FILE__</span>
                </button>
            {/if}
            {if !anon}
                <button type="button" class="s3d-button s3d-button-primary" id="content_profile_file_details_action_delete">
                    <span class="s3d-button-inner">{if data["jcr:content"]["jcr:mimeType"] === "x-sakai/link"}__MSG__DELETE_LINK__{else}__MSG__DELETE_FILE__{/if}</span>
                </button>
            {/if}
            <hr/>
        </div>
--></div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/devwidgets/contentprofilefiledetails/javascript/contentprofilefiledetails.js"></script>