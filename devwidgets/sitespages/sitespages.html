<!-- Sakai Page CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/sitespages/css/sitespages.css"></link>

<div class="sakai_site">

    <!-- CONTENT -->
    <div class="fl-fix fl-centered" style="overflow:hidden">

        <!-- MAIN PAGE -->
        <div class="fl-fix fl-col-fixed main_container" id="show_view_container">

            <!-- Page Nav -->
            <div class="fl-col page_nav">

                <!-- Page navigation -->
                <div id="page_nav_content" class="pages page_nav_content"></div>

                <!-- Site Management -->
                <div class="site_management" id="site_management" style="display:none">

                    <div class="sm_titlebar s3d-widget-titlebar">
                        <div class="sm_titlebar_inner s3d-widget-titlebar-inner s3d-widget-titlebar-inner"><h2 class="sm_title">__MSG__SITE_MANAGEMENT__</h2></div>
                    </div>

                    <div class="sm_bottom">
                        <div class="sm_bottom_inner"><!-- --></div>
                    </div>
                </div>

            </div>

            <!-- TOP RIGHT MENU -->
            <div id="content_page_options_container">
                <div class="content_page_options content_page_options_fixed_width" id="content_page_options" style="display:none">
                    <ul class="fl-force-right">
                        <li id="li_edit_page"><a href="javascript:;" id="edit_page">__MSG__EDIT__</a></li>
                    </ul>
                </div>
            </div>

            <!-- MAIN CONTENT -->
            <div class="fl-col-fixed content_container">

                <!-- TOP BORDER -->
                <div class="content_top content_top_rounded">
                    <div class="content_top_inner"><!-- --></div>
                </div>

                <div class="sakai_site_contents_main s3d-content fl-fix">

                    <!-- REVISION HISTORY -->
                    <div class="fl-container revision_history fl-fix" id="revision_history_container"  style="display:none">

                        <label class="revision_history_viewing fl-force-left" for="revision_history_list">__MSG__VIEWING__:</label>

                        <div><select id="revision_history_list"></select></div>

                        <button id="revision_history_revert" class="s3d-button s3d-button-primary"><span class="s3d-button-inner">__MSG__USE_THIS_VERSION__</span></button>
                        <button id="revision_history_cancel" class="s3d-button"><span class="s3d-button-inner">__MSG__CANCEL__</span></button>

                    </div>

                    <!-- PAGE TITLE -->
                    <h1 id="pagetitle"></h1>


                    <!-- MAIN CONTENT -->
                    <div id="main-content-div"></div>

                </div>

                <!-- BOTTOM BORDER -->
                <div class="s3d-no-options"><div class="s3d-no-options-inner"><!-- --></div></div>

            </div>

        </div>

        <!-- WORK AREA -->
        <div class="fl-fix edit_view" id="edit_view_container" style="display:none">

            <div class="main_container content_container">
                <span id="edit_untitled_page" style="display:none">__MSG__UNTITLED_PAGE__</span>

                <!--//desNote: row of buttons need to coexist horizontally with tabs,hence the //-->
                <div id="edit_page_action_buttons_template"><!--
                    <button class="s3d-button s3d-button-primary save_button"><span class="s3d-button-inner">__MSG__SAVE__</span></button>
                    <button class="s3d-button cancel-button"><span class="s3d-button-inner">__MSG__DONT_SAVE__</span></button>
                    <span class="messageInformation" id="messageInformation" style="display:none">__MSG__AUTO_SAVED_AT__ <span id="realtime"></span></span>
                --></div>


                <!-- TOP RIGHT MENU -->
                <div id="content_page_options_container">
                    <div class="content_page_options" id="content_edit_page_options">
                        <a href="http://confluence.sakaiproject.org/display/2ACC/Draft+TinyMCE+User+Documentation+for+Sakai+3" id="sitespages_accessibility_help" class="s3d-action" target="_blank">__MSG__ACCESSIBILITY_HELP__</a>
                        <ul class="fl-force-left">
                            <li id="li_edit_page"><a href="javascript:;" id="edit_page_revert">__MSG__EDIT__</a></li>
                        </ul>
                    </div>
                </div>

                <!-- TAB CONTENT -->
                <div class="fl-centered fl-container fl-tab-content edit_container">

                    <!-- TOP BORDER -->
                    <div class="content_top"><div class="content_top_inner"><!-- --></div></div>

                    <div class="s3d-primary-tabs">
                        <ul class="fl-tabs fl-tabs-left">

                            <!-- INSERT DROPDOWN MENU -->
                            <span class="s3d-button s3d-button-inline" id="sitepages_insert_dropdown_button">
                                <span class="s3d-button-inner">
                                    <span class=""></span>
                                    <span class="s3d-button-inner-text" id="sitepages_insert_dropdown_button_inner">__MSG__INSERT__</span>
                                    <span class="s3d-button-icon-right"></span>
                                </span>
                            </span>
                            <div id="sitepages_insert_dropdown_container"></div>

                            <!-- <li id="sitespages_embed_content_button" class="sitespages_add_button"><img src="/dev/images/add_image.png" alt="__MSG__ADD_CONTENT__" /></li> -->
                            <!-- <li id="embed_video" class="add_button"><img src="/dev/images/add_video.png" alt="__MSG__ADD_VIDEO__" /></li> -->
                        </ul>
                        <ul class="fl-tabs fl-tabs-right">
                            <li id="tab_text_editor"><button class="s3d-button s3d-button-link-2-state"><span class="s3d-button-inner s3d-button-link-2-state-inner">__MSG__TEXT_EDITOR__</span></button></li>
                            <li id="tab_html"><button class="s3d-button s3d-button-link-2-state"><span class="s3d-button-inner s3d-button-link-2-state-inner">__MSG__HTML__</span></button></li>
                            <li id="tab_preview"><button class="s3d-button s3d-button-link-2-state"><span class="s3d-button-inner s3d-button-link-2-state-inner">__MSG__PREVIEW__</span></button></li>
                        </ul>
                    </div>

                    <!-- TOOLBAR -->
<!--                    <div class="toolbar toolbar-placeholder" id="toolbarplaceholder">
                        <div id="toolbarcontainer">
                            <div class="mceToolbarExternal mceEditor defaultSkin"></div>
                        </div>
                    </div> -->

                    <!-- EDIT CONTENTS -->
                    <div class="edit_contents_main">

                        <div class="title_input_container" id="title-input-container">
                            <input type="text" value="Untitled" maxlength="255" class="title-input" id="title-input"/>
                        </div>

                        <div id="fl-tab-content-editor">
                            <div id="placeholderforeditor" class="textarea">

                                <!-- Gets replaced with TinyMCE, remember HTML in a textarea should be encoded -->
                                <textarea id="elm1" name="elm1" style="width: 890px; height:430px">
                                    &nbsp;
                                </textarea>
                            </div>
                        </div>

                        <div id="html-editor" style="display:none;">
                            <textarea id="html-editor-content" rows="20" wrap="hard"></textarea>
                        </div>

                        <div class="new_page_path" id="new_page_path"></div>

                        <div class="content_container fl-fix" id="page_preview_content" style="display:none;"></div>

                        <div id="page_save_options_bottom">
                            <button class="s3d-button s3d-button-primary save_button"><span class="s3d-button-inner">__MSG__SAVE__</span></button>
                            <button class="s3d-button cancel-button"><span class="s3d-button-inner">__MSG__DONT_SAVE__</span></button>
                        </div>

                    </div> <!-- end EDIT CONTENTS -->

                    <div class="s3d-no-options content_bottom_edit"><div class="s3d-no-options-inner"><!-- --></div></div>

                </div> <!-- end TAB CONTENT -->

            </div> <!-- end main_container content_container -->

        </div> <!-- end WORK AREA -->

    </div> <!-- end CONTENT -->

<!-- DIALOGS, MENUS, MISC STUFF -->

    <div id="sitespages_page_options_container" style="display:none"><!--
        <span class="s3d-button s3d-button-inline" id="more_link">
            <span class="s3d-button-inner">
                <span class="s3d-button-icon-left"></span>
                <span class="s3d-button-inner-text">__MSG__PAGE_OPTIONS__</span>
                <span class="s3d-button-icon-right"></span>
            </span>
        </span>

        <div class="s3d-sprites-buttons" id="more_menu" style="display:none">
            <ul>
                <li id="more_revision_history" class="more_option"><a href="javascript:;" class="s3d-action">__MSG__REVISION_HISTORY__</a></li>
                <li id="more_save_as_template" class="more_option"><a href="javascript:;" class="s3d-action">__MSG__SAVE_AS_TEMPLATE__</a></li>
                <li id="more_change_layout" class="more_option"><a href="javascript:;" class="s3d-action">__MSG__CHANGE_LAYOUT__</a></li>
                <li id="more_delete" class="more_option option_last"><a href="javascript:;" class="s3d-action">__MSG__DELETE__</a></li>
            </ul>
        </div>
    --></div>

    <!-- INSERT MORE DROPDOWN MENU -->
    <div id="sitepages_insert_dropdown_template" style="display:none"><!--
        <div class="s3d-sprites-buttons" id="sitepages_insert_dropdown" style="display:none;">
            <ul>
                <li><a href="#" id="link" class="insert_dropdown_widget_link s3d-action">__MSG__PAGE_LINK__</a></li>
                <li><a href="#" id="hr" class="insert_dropdown_widget_link s3d-action">__MSG__HORIZONTAL_LINE__</a></li>
                <li class="sitepages_insert_dropdown_header"><span>__MSG__MEDIA__:</span></li>
                <li id="sitespages_embed_content_button"><a href="#" class="insert_dropdown_widget_link s3d-action">__MSG__FILES_AND_DOCUMENTS__</a></li>
                {for i in media.items}
                    <li><a href="#" id="${i.id}" class="insert_dropdown_widget_link s3d-action">${i.name}</a></li>
                {forelse}
                    <li class="sitepages_insert_dropdown_header"><span>__MSG__NOT_AVAILABLE__</span></li>
                {/for}
                <li class="sitepages_insert_dropdown_header"><span>__MSG__SAKAI_GOODIES__:</span></li>
                {for ii in goodies.items}
                    <li><a href="#" id="${ii.id}" class="insert_dropdown_widget_link s3d-action">${ii.name}</a></li>
                {/for}
                <li class="sitepages_insert_dropdown_header"><span>(__MSG__MORE_COMING_SOON__)</span></li>
            </ul>
        </div>
    --></div>

    <!-- INSERT MORE MENU -->
    <div id="insert_more_menu" class="insert_more_menu" style="display:none">
        <div class="insert_more_menu_border">
            <ul>
                <li><a href="javascript:;" id="link_dialog_trigger">__MSG__LINK__</a></li>
                <li><a href="javascript:;" id="horizontal_line_insert">__MSG__HORIZONTAL_LINE__</a></li>
            </ul>
        </div>
        <div id="insert_more_media" class="insert_more_menu_border">

        </div>
        <div id="insert_more_goodies">

        </div>
        <div id="insert_more_sidebar">

        </div>
    </div>

    <div id="insert_more_media_template" style="display:none"><!--
        <ul>
            <li class="insert_more_menu_inactive">__MSG__MEDIA__:</li>
            {for i in items}
                <li><a href="javascript:;" id="insert_more_widget_${i.id}" class="insert_more_widget">${i.name}</a></li>
            {forelse}
                <li class="insert_more_menu_inactive"><i>__MSG__NOT_AVAILABLE__</i></li>
            {/for}
        </ul>
    --></div>

    <div id="insert_more_goodies_template" style="display:none"><!--
        <ul>
            <li class="insert_more_menu_inactive">__MSG__SAKAI_GOODIES__:</li>
            {for i in items}
                <li><a href="javascript:;" id="insert_more_widget_${i.id}" class="insert_more_widget">${i.name}</a></li>
            {/for}
            <li class="insert_more_menu_inactive">(__MSG__MORE_COMING_SOON__)</li>
        </ul>
    --></div>

    <div id="insert_more_sidebar_template" style="display:none"><!--
        <ul>
            <li class="insert_more_menu_inactive">__MSG__SIDEBAR_GOODIES__:</li>
            {for i in items}
                <li><a href="javascript:;" id="insert_more_widget_${i.id}" class="insert_more_widget">${i.name}</a></li>
            {/for}
        </ul>
    --></div>


    <!-- INSERT DIALOG -->
    <div id="insert_dialog" class="dialog">
        <!-- DIALOG HEADER -->
        <div class="dialog_header">
            <div class="dialog_header_inner">
            <h1 id="dialog_title"></h1>
            <a href="javascript:;" class="jqmClose dialog_close_image" title="__MSG__CLOSE_DIALOG__">__MSG__CLOSE_DIALOG__</a>
            </div>
        </div>
        <!-- DIALOG CONTENT -->
        <div id="dialog_content" class="dialog_content"></div>
        <!-- DIALOG FOOTER -->
        <div class="dialog_footer">
            <div class="dialog_footer_inner"><!-- --></div>
        </div>
    </div>


    <!-- WRAPPING DIALOG -->
    <div id="wrapping_dialog" class="dialog" style="width:400px; margin-left: -200px">
        <div class="dialog_header">
            <div class="dialog_header_inner">
            <h1>__MSG__APPEARANCE__</h1>
            <a href="javascript:;" class="jqmClose dialog_close_image" title="__MSG__CLOSE_DIALOG__">__MSG__CLOSE_DIALOG__</a>
            </div>
        </div>

        <div class="dialog_content">

            <h3 style="margin-top:0px">__MSG__SELECT_WRAPPING_FOR_YOUR_WIDGET__</h3>

            <ul style="margin-left:1em">
                <li style="list-style-type:none; padding-l"><a id="wrapping_no" href="javascript:;">__MSG__NO_WRAPPING__</a></li>
                <li style="list-style-type:none"><a id="wrapping_left" href="javascript:;">__MSG__LEFT_WRAPPING__</a></li>
                <li style="list-style-type:none"><a id="wrapping_right" href="javascript:;">__MSG__RIGHT_WRAPPING__</a></li>
            </ul>

            <div class="dialog_buttons">
                <button type="button" class="s3d-button jqmClose"><span class="s3d-button-inner">__MSG__CANCEL__</span></button>
             </div>
        </div>

        <!-- DIALOG FOOTER -->
        <div class="dialog_footer">
            <div class="dialog_footer_inner"><!-- --></div>
        </div>
    </div>

    <!-- AUTOSAVE DIALOG -->
    <div id="autosave_dialog" class="dialog" style="width:400px; margin-left: -200px">
        <div class="dialog_header">
            <div class="dialog_header_inner">
            <h1>__MSG__AUTO__ __MSG__SAVE__</h1>
            <a href="javascript:;" class="jqmClose dialog_close_image" title="__MSG__CLOSE_DIALOG__">__MSG__CLOSE_DIALOG__</a>
            </div>
        </div>

        <div class="dialog_content">

            <h3 style="margin-top:0px">__MSG__AN_UNSAVED_VERSION_OF_PAGE_HAS_BEEN_FOUND__.</h3>

            <p>__MSG__DO_YOU_WANT_TO_LOAD_UNSAVED_VERSION__?</p>

            <div class="dialog_buttons">
                <button type="button" class="s3d-button s3d-button-primary" id="autosave_revert"><span class="s3d-button-inner">__MSG__YES__</span></button>
                <button type="button" class="s3d-button jqmClose"><span class="s3d-button-inner">__MSG__NO__</span></button>
            </div>
        </div>

        <!-- DIALOG FOOTER -->
        <div class="dialog_footer">
            <div class="dialog_footer_inner"><!-- --></div>
        </div>
    </div>

    <div id="delete_dialog" class="dialog" style="width:400px; margin-left: -200px">
        <div class="dialog_header">
            <div class="dialog_header_inner">
            <h1>__MSG__DELETE_A_PAGE__</h1>
            <a href="javascript:;" class="jqmClose dialog_close_image" title="__MSG__CLOSE_DIALOG__">__MSG__CLOSE_DIALOG__</a>
            </div>
        </div>

        <div class="dialog_content">

            <h4>__MSG__ARE_YOU_SURE_YOU_WANT_TO_DELETE__ <span class="sitespages_delete_confirm_page_title"></span>?</h4>

            <p class="delete_page_text">__MSG__THIS_WILL_DELETE_CHILD_PAGES__</p>

            <div class="dialog_buttons delete_page_buttons">
                <button type="button" class="s3d-button jqmClose"><span class="s3d-button-inner">__MSG__NO__</span></button>
                <button type="button" class="s3d-button s3d-button-primary" id="delete_confirm"><span class="s3d-button-inner">__MSG__YES__</span></button>
            </div>
        </div>

        <!-- DIALOG FOOTER -->
        <div class="dialog_footer">
            <div class="dialog_footer_inner"><!-- --></div>
        </div>
    </div>

    <div id="no_delete_dialog" class="dialog" style="width:400px; margin-left: -200px">
        <div class="dialog_header">
            <div class="dialog_header_inner">
            <h1>__MSG__DELETE_A_PAGE__</h1>
            <a href="javascript:;" class="jqmClose dialog_close_image" title="__MSG__CLOSE_DIALOG__">__MSG__CLOSE_DIALOG__</a>
            </div>
        </div>

        <div class="dialog_content">

            <h4>__MSG__NOT_ALLOWED_TO_DELETE__ <span class="sitespages_delete_confirm_page_title"></span></h4>

            <div class="dialog_buttons">
                <button type="button" class="s3d-button jqmClose"><span class="s3d-button-inner">__MSG__OK__</span></button>
            </div>
        </div>

        <!-- DIALOG FOOTER -->
        <div class="dialog_footer">
            <div class="dialog_footer_inner"><!-- --></div>
        </div>
    </div>

    <div id="link_dialog" class="dialog" style="width:400px; margin-left: -200px">
        <div class="dialog_header">
            <div class="dialog_header_inner">
            <h1>__MSG__INSERT_A_LINK__</h1>
            <a href="javascript:;" class="jqmClose dialog_close_image" title="__MSG__CLOSE_DIALOG__">__MSG__CLOSE_DIALOG__</a>
            </div>
        </div>

        <div class="dialog_content">

            <h3 style="margin-top:0px">__MSG__TO_INSERT_PAGE_LINK__</h3>

            <div id="link_container" class="link_container">

            </div>

            <div class="dialog_buttons">
                <button type="button" class="s3d-button s3d-button-primary" id="insert_link_confirm"><span class="s3d-button-inner">__MSG__INSERT__</span></button>
                <button type="button" class="s3d-button jqmClose"><span class="s3d-button-inner">__MSG__CANCEL__</span></button>
            </div>

        </div>

        <!-- DIALOG FOOTER -->
        <div class="dialog_footer">
            <div class="dialog_footer_inner"><!-- --></div>
        </div>
    </div>

    <div class="s3d-sprites-buttons" id="context_menu" style="display:none">
        <button class="s3d-button s3d-button-inline" id="more_link">
            <span class="s3d-button-inner"><span class="s3d-button-icon-left"></span><span class="s3d-button-inner-text">__MSG__WIDGET_OPTIONS__</span><span class="s3d-button-icon-right"></span></span>
        </button>
        <div class="context_more">
            <ul>
                <li id="context_settings" class="more_option">
                    <a href="javascript:;" class="s3d-action">__MSG__SETTINGS__</a>
                </li>
                <li id="context_remove" class="more_option">
                    <a href="javascript:;" class="s3d-action">__MSG__REMOVE__</a>
                </li>
                <li id="context_appearance_trigger" class="more_option option_last">
                    <a href="javascript:;" class="s3d-action">__MSG__WRAPPING__</a>
                </li>
            </ul>
        </div>
    </div>


    <!-- SAVE AS TEMPLATE DIALOG -->
    <div class="dialog" id="save_as_template_container">
        <div class="dialog_header">
            <div class="dialog_header_inner">
            <h1>__MSG__SAVE_AS_TEMPLATE__</h1>
            <a href="javascript:;" class="jqmClose dialog_close_image" title="__MSG__CLOSE_DIALOG__">__MSG__CLOSE_DIALOG__</a>
            </div>
        </div>

        <div class="dialog_content">

            <h1>__MSG__TEMPLATE_NAME__</h1>
            <textarea id="template_name"></textarea>

            <h1>__MSG__DESCRIPTION__</h1>
            <textarea id="template_description"></textarea>

            <p><small>__MSG__MAX_250_CHARACTERS__!</small></p>

            <div class="dialog_buttons">
                <button type="button" class="s3d-button s3d-button-primary" id="save_as_page_template_button"><span class="s3d-button-inner">__MSG__SAVE__</span></button>
                <button type="button" class="s3d-button jqmClose"><span class="s3d-button-inner">__MSG__CANCEL__</span></button>
            </div>
        </div>

        <!-- DIALOG FOOTER -->
        <div class="dialog_footer">
            <div class="dialog_footer_inner"><!-- --></div>
        </div>
    </div>


    <!-- PAGE TEMPLATE SELECTION DIALOG -->
    <div class="dialog" id="select_template_for_page">
        <div class="dialog_header">
            <div class="dialog_header_inner">
            <h1>__MSG__ADD_PAGE_FROM_TEMPLATE__</h1>
            <a href="javascript:;" class="jqmClose dialog_close_image" title="__MSG__CLOSE_DIALOG__">__MSG__CLOSE_DIALOG__</a>
            </div>
        </div>

        <div class="dialog_content">

            <div id="list_container" class="fl-container template_list_container">
            </div>
            <div id="list_container_template"><!--
                {if size > 0}
                <ul class="fl-list-menu template_list">
                    {for i in items}
                <li>
                        <a class="fl-icon fl-force-right delete template_delete" id="template_delete_${i.id}" href="javascript:;"></a>
                        <a href="javascript:;" id="page_template_selection_${i.id}" class="page_template_selection">
                            <span class="menu_title">${i.name}</span>
                            <span class="description">${i.description}</span>
                        </a>
                    </li>
                    {/for}
            </ul>
                {else}
                    <span>__MSG__NO_TEMPLATES_AVAILABLE__</span>
                {/if}
            --></div>
            <!-- DIALOG BUTTONS -->
            <div class="dialog_buttons">
                <button type="button" class="s3d-button jqmClose"><span class="s3d-button-inner">__MSG__CANCEL__</span></button>
            </div>
        </div>

        <!-- DIALOG FOOTER -->
        <div class="dialog_footer">
            <div class="dialog_footer_inner"><!-- --></div>
        </div>
    </div>

    <!-- ADD DASHBOARD -->
    <div class="dialog" id="dashboard_addpage_dialog">
        <div class="dialog_header">
            <div class="dialog_header_inner">
            <h1>__MSG__ADD_A_DASHBOARD_PAGE__.</h1>
            <a href="javascript:;" class="jqmClose dialog_close_image" title="__MSG__CLOSE_DIALOG__">__MSG__CLOSE_DIALOG__</a>
            </div>
        </div>

        <div class="dialog_content">
            <form method="POST" action="javascript:;">
                <label for="dashboard_addpage_title">__MSG__WHAT_IS_THE_TITLE_FOR_DASHBOARD_PAGE__.</label><br />
                <input type="text" maxlength="255" id="dashboard_addpage_title" />

                <!-- DIALOG BUTTONS -->
                <div class="dialog_buttons">
                    <button type="submit" class="s3d-button s3d-button-primary"><span class="s3d-button-inner">__MSG__ADD__</span></button>
                    <button type="button" class="s3d-button jqmClose"><span class="s3d-button-inner">__MSG__CANCEL__</span></button>
                </div>
            </form>
        </div>

        <!-- DIALOG FOOTER -->
        <div class="dialog_footer">
            <div class="dialog_footer_inner"><!-- --></div>
        </div>
    </div>

</div>

<!-- <div class="sm_content s3d-widget-content">
    <ul>
        <li><a id="site_management_basic_link" href="/dev/site_management_basic_settings.html?siteid=">__MSG__SITE_SETTINGS__</a></li>
        <li><a id="site_management_files_link" href="/dev/content_media.html?siteid=">__MSG__SITE_FILES__</a></li>
        <li><a id="site_management_members_link" href="/dev/site_management_members_manage.html?siteid=">__MSG__MEMBERS__</a></li>
        <li><a id="site_management_appearance_link" href="/dev/site_management_appearance.html?siteid=">__MSG__APPEARANCE__</a></li>
        <li><a href="javascript:;" id="edit_sidebar">__MSG__EDIT_SIDEBAR__</a></li>
    </ul>
</div> -->

<script type="text/javascript" src="/devwidgets/sitespages/javascript/sitespages.js"></script>
