<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/mycontacts/css/mycontacts.css" />

<div class="mycontacts_widget">

    <div class="fl-widget-content s3d-widget-content fl-fix"><div id="mycontacts_list"><!-- --></div></div>

    <!-- ERROR MESSAGES -->
    <span id="mycontacts_error_contactserver" style="display:none;">__MSG__UNABLE_TO_CONTACT_THE_SERVER_PLEASE_TRY_AGAIN_LATER__.</span>

    <!-- FOOTER LINKS -->
    <!-- <div class="fl-widget-options fl-fix" style="overflow:hidden;">
        <div class="fl-widget-options-footer-top">
            <div class="fl-widget-options-top-right"></div>
        </div>
        <div class="widget-options-inner">
            <ul>
                <li><a href="/people">__MSG__VIEW_AND_EDIT_ALL_MY_CONTACTS__</a></li>
                <li><span class="pipe_divider">|</span></li>
                <li><a id="mycontacts_footer_search" href="/search/people#q=*&page=1">__MSG__SEARCH_PEOPLE__</a></li>
                <li><a href="/people" class="mycontacts_requests" id="mycontacts_requests"></a></li>
            </ul>

        </div>
        <div class="s3d-widget-options-footer-left">
            <div class="s3d-widget-options-footer-right">
            </div>
        </div>
    </div> -->
    <div class="s3d-widget-no-options">
        <div class="s3d-widget-no-options-inner"></div>
    </div>

    <div id="mycontacts_list_template" style="display:none"><!--
        {var count = 0}
        {for i in items}
            {var count = count + 1}
            <div class="fl-container fl-fix mycontacts_items{if count == 1} mycontacts_items_first{/if}">
                <span class="mycontacts_item_left_filler"><input type="checkbox" name="${i.id}" /></span>
                <a href="/~${i.id}" class="mycontacts_list_contact_picture" title="__MSG__TO_SEE_THE_PERSON_PROFILE__"><img alt="__MSG__TO_SEE_THE_PERSON_PROFILE__" src="${i.photo}" width="48px" height="48px"/></a>
                <button class="s3d-link-button mycontacts_item_message_icon sakai_sendmessage_overlay" sakai-entityid="${i.id}" sakai-entityname="${i.name}" sakai-entitytype="user"></button>
                <div class="mycontacts_item_right">
                    <a href="/~${i.id}" class="s3d-bold s3d-regular-light-links">${i.name}</a>
                    <div class="mycontacts_item_counts">
                        <a class="s3d-regular-light-links" href="" title="">64 content items</a> <span class="mycontacts_item_detail_separator">|</span> <a class="s3d-regular-light-links" href="" title="">28 comments</a> <span class="mycontacts_item_detail_separator">|</span> <a class="s3d-regular-light-links" href="" title="">4 memberships</a>
                    </div>
                    {if i.extra}
                        <span class="mycontacts_list_description">${i.extra}</span>
                    {/if}
                    {if i["sakai:tags"] && i["sakai:tags"].length > 0}
                        <div class="mycontacts_item_tags">
                            <span class="mycontacts_item_icon mycontacts_item_tags_icon"></span>
                            <p class="mycontacts_item_tags_list">
                                {for t in i["sakai:tags"]}{if t.split("/")[0] !== "directory"}{if t_index > 0} <span class="mycontacts_item_tags_dot"> &bull;</span>{/if} <a class="s3d-regular-light-links" href="" title="${t}">${t}</a>{/if}{/for}
                            </p>
                        </div>
                    {/if}
                </div>
            </div>
        {forelse}
            <a href="/search/people#q=*&filter=&facet=&page=1" title="__MSG__FIND_CONTACTS__" class="contacts_no_contacts">
                <button type="button" class="s3d-button s3d-button-link-2-state contact_search_button">
                    <span class="s3d-button-inner s3d-button-link-2-state-inner">__MSG__FIND_CONTACTS__</span>
                </button>
            </a>
            <span class="mycontacts_no_contacts">__MSG__FIND_PEOPLE_AND_ADD_THEM__</span>
        {/for}
        {if count > 0}
            <div class="mycontacts_items_end"></div>
        {/if}
    --></div>

    <div id="mycontacts_requests_template"><!--
        {if ((invited > 0) && (invited < 1000))}
            <span>__MSG__RESPOND_TO__ ${invited}
                {if invited == 1}
                    __MSG__INVITATION__
                {else}
                    __MSG__INVITATIONS__
                {/if}
            </span>
        {/if}
    --></div>
    
</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/devwidgets/mycontacts/javascript/mycontacts.js"></script>
